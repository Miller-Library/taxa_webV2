<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Option 1 – TAXA Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../content/Option2final.html" rel="next">
<link href="../content/experiments.html" rel="prev">
<link href="../millerlogo.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../content/Option1.html">Option 1 Notebook</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/millerlogo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">TAXA Project</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://library.stanford.edu/hopkins" title="Hopkins Marine Station" class="quarto-navigation-tool px-1" aria-label="Hopkins Marine Station"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/Miller-Library" title="Harold A. Miller Library" class="quarto-navigation-tool px-1" aria-label="Harold A. Miller Library"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/plan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project Plan</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/experiments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Experiments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Option1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Option 1 Notebook</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Option2final.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Option 2 Notebook</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Global_Biodiversity_Information_Facility_(GBIF)_API.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GBIF API Test</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/ComparingResults-Options1&amp;2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Results Table - Options 1 &amp; 2</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/image_gallery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text Checker Outputs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Text_Difference_Checker.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">difflib Transkribus Output Text Checker Notebook</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/pytesseract.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PyTesseract - Improving OCR'd Papers</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/PyTesseract_OCR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PyTesseract_OCR Notebook</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#extract-text-from-a-pymupdf" id="toc-extract-text-from-a-pymupdf" class="nav-link active" data-scroll-target="#extract-text-from-a-pymupdf">Extract text from a PyMuPDF</a></li>
  <li><a href="#text-splitters" id="toc-text-splitters" class="nav-link" data-scroll-target="#text-splitters">Text Splitters</a>
  <ul class="collapse">
  <li><a href="#sentencetransformers" id="toc-sentencetransformers" class="nav-link" data-scroll-target="#sentencetransformers">SentenceTransformers</a></li>
  </ul></li>
  <li><a href="#text-embedding" id="toc-text-embedding" class="nav-link" data-scroll-target="#text-embedding">Text embedding</a>
  <ul class="collapse">
  <li><a href="#annoy" id="toc-annoy" class="nav-link" data-scroll-target="#annoy">Annoy</a></li>
  </ul></li>
  <li><a href="#multiqueryretriever" id="toc-multiqueryretriever" class="nav-link" data-scroll-target="#multiqueryretriever">MultiQueryRetriever</a>
  <ul class="collapse">
  <li><a href="#supplying-own-prompt" id="toc-supplying-own-prompt" class="nav-link" data-scroll-target="#supplying-own-prompt">Supplying own Prompt</a></li>
  </ul></li>
  <li><a href="#retrieval-qa" id="toc-retrieval-qa" class="nav-link" data-scroll-target="#retrieval-qa">Retrieval QA</a>
  <ul class="collapse">
  <li><a href="#map-refine-document-chain" id="toc-map-refine-document-chain" class="nav-link" data-scroll-target="#map-refine-document-chain">Map Refine Document Chain</a></li>
  </ul></li>
  <li><a href="#map-reduce-document-chain" id="toc-map-reduce-document-chain" class="nav-link" data-scroll-target="#map-reduce-document-chain">Map Reduce Document Chain</a></li>
  <li><a href="#map-re-rank-document-chain" id="toc-map-re-rank-document-chain" class="nav-link" data-scroll-target="#map-re-rank-document-chain">Map Re-rank Document Chain</a></li>
  <li><a href="#stuff-document-chain-w-conversationbuffermemory" id="toc-stuff-document-chain-w-conversationbuffermemory" class="nav-link" data-scroll-target="#stuff-document-chain-w-conversationbuffermemory">Stuff Document Chain w/ ConversationBufferMemory</a></li>
  <li><a href="#load_qa_chain-prompting" id="toc-load_qa_chain-prompting" class="nav-link" data-scroll-target="#load_qa_chain-prompting">Load_QA_Chain &amp; Prompting</a></li>
  <li><a href="#conversationalretrievalqa" id="toc-conversationalretrievalqa" class="nav-link" data-scroll-target="#conversationalretrievalqa">ConversationalRetrievalQA</a>
  <ul class="collapse">
  <li><a href="#pass-in-chat-history" id="toc-pass-in-chat-history" class="nav-link" data-scroll-target="#pass-in-chat-history">Pass in Chat History</a></li>
  <li><a href="#return-source-documents" id="toc-return-source-documents" class="nav-link" data-scroll-target="#return-source-documents">Return Source Documents</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.dev/Miller-Library/taxa_webV2/blob/main/content/Option1.ipynb" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/Miller-Library/taxa_webV2/blob/main/content/Option1.ipynb" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/Miller-Library/taxa_webV2/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Option 1</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<ul>
<li>SentenceTransformers Splitter</li>
<li>SentenceTransformerEmbeddings</li>
<li>Annoy</li>
<li>MultiQueryRetriever</li>
<li>RetrievalQA with “Reduce”</li>
<li>RetrievalQA with “Re-rank”</li>
<li>RetrievalQA with “Stuff” and memory</li>
<li>Memory</li>
</ul>
<div id="83ff4a6b" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> logging</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys, pathlib, fitz</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain <span class="im">import</span> LLMChain</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pydantic <span class="im">import</span> BaseModel, Field</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.prompts <span class="im">import</span> PromptTemplate</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.output_parsers <span class="im">import</span> PydanticOutputParser</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.text_splitter <span class="im">import</span> SentenceTransformersTokenTextSplitter</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.text_splitter <span class="im">import</span> CharacterTextSplitter</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.embeddings <span class="im">import</span> SentenceTransformerEmbeddings</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.embeddings <span class="im">import</span> HuggingFaceEmbeddings</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.retrievers.multi_query <span class="im">import</span> MultiQueryRetriever</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.chains <span class="im">import</span> RetrievalQA</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.chains <span class="im">import</span> ConversationalRetrievalChain</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.memory <span class="im">import</span> ConversationBufferMemory</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.document_loaders <span class="im">import</span> PyMuPDFLoader</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.vectorstores <span class="im">import</span> Annoy</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.chat_models <span class="im">import</span> ChatOpenAI</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="57f6e99f" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv, find_dotenv</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>_ <span class="op">=</span> load_dotenv(find_dotenv()) <span class="co"># read local .env file</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>openai.api_key  <span class="op">=</span> os.environ[<span class="st">'OPENAI_API_KEY'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="bfefce70" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># os.environ["OPENAI_API_KEY"] = ""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="6f41d10c" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper function for printing docs</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> pretty_print_docs(docs):</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span><span class="st">'-'</span> <span class="op">*</span> <span class="dv">100</span><span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>.join([<span class="ss">f"Document </span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">:</span><span class="ch">\n\n</span><span class="ss">"</span> <span class="op">+</span> d.page_content <span class="cf">for</span> i, d <span class="kw">in</span> <span class="bu">enumerate</span>(docs)]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="extract-text-from-a-pymupdf" class="level2">
<h2 class="anchored" data-anchor-id="extract-text-from-a-pymupdf">Extract text from a PyMuPDF</h2>
<p>According to <a href="https://python.langchain.com/docs/modules/data_connection/document_loaders/how_to/pdf#using-pymupdf">LangChain</a>, PyMuPDFLoader is the fastest PDF parsing option and contains detailed metadata about the PDF and its pages, as well as returns one document per page.</p>
<div id="2232c4bd" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in some Data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>loader <span class="op">=</span> PyMuPDFLoader(<span class="st">"hms/fhl_2014_Charifson_34622 (1).pdf"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Now that we have our PDF document loaded into a loader object, we move onto text splitters</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>pages <span class="op">=</span> loader.load()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="573bfd4f" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(pages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>19</code></pre>
</div>
</div>
</section>
<section id="text-splitters" class="level2">
<h2 class="anchored" data-anchor-id="text-splitters">Text Splitters</h2>
<p>The concept of text splitters revolves around the need to break down long pieces of text into smaller, meaningful chunks.</p>
<p>The goal is to split the text in a way that keeps semantically related pieces together, with th definition of “semantically related depending on the specific type of text being processed.</p>
<p>Language models have a token limit. You should not exceed the token limit. When you split your text into chunks it is therefore a good idea to count the number of tokens. There are many tokenizers. When you count tokens in your text you should use the same tokenizer as used in the language model.</p>
<p>Text splitter allow customization:</p>
<ol type="1">
<li><p>Chunk_size parameter determines the number of text inputs that will be grouped together as a single request or chunk. This parameter allows you to control the granularity of the chnks and how much text is processed together at once.</p></li>
<li><p>Chunk_overlap parameter refers to the maximum overlap between consecutive chunks. By overlap inclusion, the TextSplitter ensures that is a continuity and context maintained between the chunks i.e.&nbsp;preserves the flow of information and avoids abrupt transitions between chunks.</p></li>
</ol>
<section id="sentencetransformers" class="level3">
<h3 class="anchored" data-anchor-id="sentencetransformers">SentenceTransformers</h3>
<p>The SentenceTransformersTokenTextSplitter is a specialized text splitter for use with the sentence-transformer models. The default behaviour is to split the text into chunks that fit the token window of the sentence transformer model that you would like to use.</p>
<div id="9e34e3e0" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>text_splitter <span class="op">=</span> SentenceTransformersTokenTextSplitter(chunk_size<span class="op">=</span><span class="dv">1000</span>,chunk_overlap<span class="op">=</span><span class="dv">20</span>, length_function <span class="op">=</span> <span class="bu">len</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="46eec236" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>docs <span class="op">=</span> text_splitter.split_documents(pages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="0d22709a" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(docs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>28</code></pre>
</div>
</div>
<div id="db850650" class="cell" data-scrolled="true" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>docs[<span class="dv">0</span>].metadata</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>{'source': 'hms/fhl_2014_Charifson_34622 (1).pdf',
 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf',
 'page': 0,
 'total_pages': 19,
 'format': 'PDF 1.5',
 'title': '',
 'author': 'David',
 'subject': '',
 'keywords': '',
 'creator': 'Microsoft® Office Word 2007',
 'producer': 'Microsoft® Office Word 2007',
 'creationDate': "D:20140723120649-04'00'",
 'modDate': "D:20140723120649-04'00'",
 'trapped': ''}</code></pre>
</div>
</div>
</section>
</section>
<section id="text-embedding" class="level2">
<h2 class="anchored" data-anchor-id="text-embedding">Text embedding</h2>
<p>Embeddings create a vector representation of a piece of text. This is useful because it means we can think about text in the vector space, and do things like semantic search where we look for pieces of text that are most similar in the vector space.</p>
<p>SentenceTransformers embeddings are called using the HuggingFaceEmbeddings integration. We have also added an alias for SentenceTransformerEmbeddings for users who are more familiar with directly using that package.</p>
<p>SentenceTransformers is a python package that can generate text and image embeddings, originating from Sentence-BERT</p>
<div id="ed1c63a5" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>embeddings <span class="op">=</span> SentenceTransformerEmbeddings()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="annoy" class="level3">
<h3 class="anchored" data-anchor-id="annoy">Annoy</h3>
<p>Annoy (Approximate Nearest Neighbors Oh Yeah) is a C++ library with Python bindings to search for points in space that are close to a given query point. It also creates large read-only file-based data structures that are mmapped into memory so that many processes may share the same data.</p>
<p>NOTE: Annoy is read-only - once the index is built you cannot add any more emebddings! If you want to progressively add new entries to your VectorStore then better choose an alternative!</p>
<div id="d1f52df3" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>vs2 <span class="op">=</span> Annoy.from_documents(docs, embeddings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="0e091683" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>query <span class="op">=</span> <span class="st">"what is the paper about?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="659e1a2b" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#the score is a distance metric, so lower is better</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query, k<span class="op">=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>[(Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3306306600570679),
 (Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3383784294128418),
 (Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3411223888397217)]</code></pre>
</div>
</div>
<div id="c786aa6f" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>query2 <span class="op">=</span> <span class="st">"What are the scientific names of the species mentioned in this paper?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="a70d8183" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query2, k<span class="op">=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>[(Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.0272287130355835),
 (Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.1021348237991333),
 (Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.1077861785888672)]</code></pre>
</div>
</div>
<div id="ef810aea" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>query3 <span class="op">=</span> <span class="st">"Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="3a57dce8" class="cell" data-scrolled="true" data-execution_count="18">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query3, k<span class="op">=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>[(Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.056341290473938),
 (Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.0581932067871094),
 (Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.070095419883728)]</code></pre>
</div>
</div>
<div id="9a803673" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>query4 <span class="op">=</span> <span class="st">"Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations? "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f273c8a4" class="cell" data-scrolled="true" data-execution_count="20">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query4, k<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>[(Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.2470710277557373),
 (Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.2504805326461792),
 (Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.272005558013916),
 (Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.2738001346588135)]</code></pre>
</div>
</div>
<div id="6eae608b" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>query5 <span class="op">=</span> <span class="st">"Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?"</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query5, k<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>[(Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.056341290473938),
 (Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.0581932067871094),
 (Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.070095419883728),
 (Document(page_content='charifson 10 due to logistical issues surrounding the experimental design and little replication. future studies should include more crabs, the exclusion of non - feeding crabs, and trial periods with longer time intervals. additionally, any subsequent study should utilize multivariate and geometric morphometric methods to quantify claw shape instead of using ratios, as two similar ratios may have different shape. acknowledgements : i would like to thank dianna padilla, michael labarbera, and kevin turner for advice relating to the experimental design of this study. i would also like to thank the director and staff of friday harbor laboratories for use of facilities and permission to collect organisms. friday harbor laboratories, the libbie hyman scholarship, society for integrative and comparative biology, and the stony brook department of ecology and evolution provided financial support and have my gratitude.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 9, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.1006144285202026)]</code></pre>
</div>
</div>
<div id="24d0a951" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>query6<span class="op">=</span> <span class="st">"Does the paper mention where the species were observed or collected, and if so, what locations are given?"</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query6, k<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>[(Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.018962025642395),
 (Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.073420524597168),
 (Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.1218184232711792),
 (Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.1521369218826294)]</code></pre>
</div>
</div>
<div id="f0334e79" class="cell" data-scrolled="true" data-execution_count="23">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>query7 <span class="op">=</span> <span class="st">"In what habitat were the species found?"</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query7, k<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>[(Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  0.9531382322311401),
 (Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  0.9748102426528931),
 (Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.044095516204834),
 (Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.0802817344665527)]</code></pre>
</div>
</div>
<div id="2749dbd7" class="cell" data-scrolled="true" data-execution_count="24">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>query8 <span class="op">=</span> <span class="st">"Does the paper mention a year, date and/or time that species were collected or observed, and if so, what was mentioned?"</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query8, k<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>[(Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.0603522062301636),
 (Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.0874381065368652),
 (Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.1357213258743286),
 (Document(page_content='charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 17, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.1512439250946045)]</code></pre>
</div>
</div>
<div id="74e0a71c" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>query9 <span class="op">=</span> <span class="st">"Can you give a more specific location?"</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query9, k<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>[(Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.2532789707183838),
 (Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3255820274353027),
 (Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.362636685371399),
 (Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3639099597930908)]</code></pre>
</div>
</div>
<div id="0430f23f" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>query10 <span class="op">=</span> <span class="st">"In what habitat were the species found?"</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query10, k<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>[(Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  0.9531382322311401),
 (Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  0.9748102426528931),
 (Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.044095516204834),
 (Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.0802817344665527)]</code></pre>
</div>
</div>
<div id="fefed6f4" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>query11 <span class="op">=</span> <span class="st">"Are any coordinate locations given in latitude / longitude, and if so, what are they?"</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query11, k<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>[(Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.2676454782485962),
 (Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3674745559692383),
 (Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3696166276931763),
 (Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.381576418876648)]</code></pre>
</div>
</div>
<div id="7b78ff4c" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>query12 <span class="op">=</span> <span class="st">"Are there any maps, figures, tables or diagrams in the paper??"</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>vs2.similarity_search_with_score(query12, k<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>[(Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3229398727416992),
 (Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3319050073623657),
 (Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3328725099563599),
 (Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
  1.3340879678726196)]</code></pre>
</div>
</div>
</section>
</section>
<section id="multiqueryretriever" class="level1">
<h1>MultiQueryRetriever</h1>
<p>The MultiQueryRetriever automates the process of prompt tuning by using an LLM to generate multiple queries from different perspectives for a given user input query. For each query, it retrieves a set of relevant documents and takes the unique union across all queries to get a larger set of potentially relevant documents. By generating multiple perspectives on the same question, the MultiQueryRetriever might be able to overcome some of the limitations of the distance-based retrieval and get a richer set of results.</p>
<p>Distance-based vector database retrieval embeds (represents) queries in high-dimensional space and finds similar embedded documents based on “distance”. But, retrieval may produce difference results with subtle changes in query wording or if the embeddings do not capture the semantics of the data well. Prompt engineering / tuning is sometimes done to manually address these problems, but can be tedious.</p>
<section id="supplying-own-prompt" class="level3">
<h3 class="anchored" data-anchor-id="supplying-own-prompt">Supplying own Prompt</h3>
<div id="8aab30eb" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Set up logging for the queries</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>logging.basicConfig()</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>logging.getLogger(<span class="st">"langchain.retrievers.multi_query"</span>).setLevel(logging.INFO)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="588f5498" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Output parser will split the LLM result into a list of queries</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> LineList(BaseModel):</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># "lines" is the key (attribute name) of the parsed output</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    lines: List[<span class="bu">str</span>] <span class="op">=</span> Field(description<span class="op">=</span><span class="st">"Lines of text"</span>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> LineListOutputParser(PydanticOutputParser):</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>        <span class="bu">super</span>().<span class="fu">__init__</span>(pydantic_object<span class="op">=</span>LineList)</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> parse(<span class="va">self</span>, text: <span class="bu">str</span>) <span class="op">-&gt;</span> LineList:</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>        lines <span class="op">=</span> text.strip().split(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> LineList(lines<span class="op">=</span>lines)</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>output_parser <span class="op">=</span> LineListOutputParser()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="30c9e84c" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>llm <span class="op">=</span> ChatOpenAI(temperature<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>retriever_from_llm <span class="op">=</span> MultiQueryRetriever.from_llm(</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    retriever<span class="op">=</span>vs2.as_retriever(), llm<span class="op">=</span>llm</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5fd51988" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query <span class="op">=</span> query)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. Can you provide a summary of the content in the paper?', '2. Could you give me an overview of the main topics covered in the paper?', '3. What are the key themes or subjects discussed in the paper?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>[Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="8345dcdf" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. Can you provide me with the scientific names of the species discussed in this paper?', "2. I'm interested in knowing the scientific names of the species mentioned in this paper. Could you help me with that?", '3. Could you please list the scientific names of the species that are referenced in this paper?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="45">
<pre><code>[Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="040983e8" class="cell" data-scrolled="true" data-execution_count="46">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. Is there any research in this paper that involves observations or experiments conducted in the natural environment or with organisms collected from nature?', '2. Are there any sections in this paper that discuss observational or experimental research carried out in the natural environment or with organisms collected in nature?', '3. Does this paper include any information about research conducted in the natural environment or with organisms collected from nature, either through observations or experiments?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 6 with factors : sex and species. prey selection by h. nudus was analyzed using g - tests for each individual that consumed snails. an one - way anova was used to determine differences in snail consumption rates by h. nudus. results : morphometrics : carapace width was a good predictor of both propal height ( figure 1, table 1a ) and propal width ( figure 2, table 1b ) in female and male h. oregonensis and h. nudus. there was less variation in the relationship between carapace width and propal height than with propal width. due to non - normality of cw : ph and cw : pw an arcsin transformation was used. a significant effect for sex was found for both cw : ph ( f1, 45 = 125. 6, p &lt; 0. 001 ) and cw : pw ( f1, 45 = 103. 81, p &lt; 0. 001 ). there was no significant difference between hemigrapsus species for cw : ph ( f1, 45 &lt; 0. 01, p = 0. 983 ) and cw : pw ( f1, 45 = 0. 09, p = 0. 764 ). a significant sex * species interaction was detected for both cw : ph ( f1, 45 4. 39, p = 0. 042 ) and cw : pw ( f1, 45 = 7. 19, p = 0. 010 ). figure 3 and 4 show the means of cw : ph and cw : pw in by sex and species respectively. crab feeding preference : expected values for both the number of l. scutulata and l. vincta consumed for the g - test are 0. 5 multiplied by the total number of snails consumed by each individual crab. g - tests for individual h. nudus that eat snails were all significant at p &lt;', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 5, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="a711aaf6" class="cell" data-scrolled="true" data-execution_count="47">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. Are there any mentions of observations in the paper, using terms such as "in the field," "this study," "observed," "taken," "collected," "sampled," "collection," "seen," "harvested," "found," etc.?', '2. Does the paper discuss any instances of observations, using terms like "in the field," "this study," "observed," "taken," "collected," "sampled," "collection," "seen," "harvested," "found," etc.?', '3. Are there any references to observations in the paper, using phrases such as "in the field," "this study," "observed," "taken," "collected," "sampled," "collection," "seen," "harvested," "found," etc.?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>[Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="5877245a" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. Is there any research in this paper that involves observations or experiments conducted in the natural environment or with organisms collected from nature?', '2. Are there any sections in this paper that discuss observational or experimental research carried out in the natural environment or with organisms collected in nature?', '3. Does this paper include any information about research conducted in the natural environment or with organisms collected from nature, either through observations or experiments?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 6 with factors : sex and species. prey selection by h. nudus was analyzed using g - tests for each individual that consumed snails. an one - way anova was used to determine differences in snail consumption rates by h. nudus. results : morphometrics : carapace width was a good predictor of both propal height ( figure 1, table 1a ) and propal width ( figure 2, table 1b ) in female and male h. oregonensis and h. nudus. there was less variation in the relationship between carapace width and propal height than with propal width. due to non - normality of cw : ph and cw : pw an arcsin transformation was used. a significant effect for sex was found for both cw : ph ( f1, 45 = 125. 6, p &lt; 0. 001 ) and cw : pw ( f1, 45 = 103. 81, p &lt; 0. 001 ). there was no significant difference between hemigrapsus species for cw : ph ( f1, 45 &lt; 0. 01, p = 0. 983 ) and cw : pw ( f1, 45 = 0. 09, p = 0. 764 ). a significant sex * species interaction was detected for both cw : ph ( f1, 45 4. 39, p = 0. 042 ) and cw : pw ( f1, 45 = 7. 19, p = 0. 010 ). figure 3 and 4 show the means of cw : ph and cw : pw in by sex and species respectively. crab feeding preference : expected values for both the number of l. scutulata and l. vincta consumed for the g - test are 0. 5 multiplied by the total number of snails consumed by each individual crab. g - tests for individual h. nudus that eat snails were all significant at p &lt;', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 5, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="cf9f4b86" class="cell" data-scrolled="true" data-execution_count="49">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. Are there any references in the paper to the locations where the species were observed or collected?', '2. Does the paper provide any information about the specific locations where the species mentioned were observed or collected?', '3. Can I find any details in the paper about the places where the species mentioned were observed or collected?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>[Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="80b37e61" class="cell" data-scrolled="true" data-execution_count="50">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. What is the natural environment where the species were discovered?', '2. Can you provide information about the habitat where the species were located?', '3. Where were the species typically found in terms of their habitat?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 8 this is not to say that the particular trade - offs in fiddler crabs case are analogous to that of hemigrapsus, since both claws in the two shore crabs in this study are used in feeding. sexual dimorphism in chela size, which is readily apparent to the eye in both hemigrapsus nudus and hemigrapsus oregonensis, was detected statistically ( figures 3 and 4 ). the two - way anova with factors sex and species did not show a significant species effect, suggesting that the claws of both shore crabs produce roughly the same force and are functionally equivalent ( behrens yamada and boulding 1998 ). the lack of morphological difference in the size of the chelae between the crab species removes the possibility of character displacement in the trait. it should be noted that this study was not designed to test for character displacement, but to determine if this would be an interesting question for future investigations. to make a compelling case for character displacement it is necessary to compare multiple sympatric and allopatric populations with similar abiotic and biotic conditions ( stuart and losos 2013 ). also it must be demonstrated that the trait differs due to genetic differences between sympatric and allopatric populations, that the differences between the populations are not due to species sorting, that the morphological trait is correlated to differences in resource use between the two sympatric species, and that the similar phenotype in allopatric populations compete for the same resources ( stuart and losos 2013 ). the tendency of h. nudus to occupy the upper intertidal zone ( sliger 1987 ), despite considerable overlap with h. oregonensis, may provide enough differential resource use to prevent exclusion in sympatry. desiccation tolerance may be a better trait to test for character displacement in these shore', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 7, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="48d301e2" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. What information does the paper provide about the collection or observation of species, including any mention of a year, date, or time?', '2. Are there any references in the paper to the year, date, or time of species collection or observation?', '3. Can you find any details in the paper regarding the specific year, date, or time when the species were collected or observed?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 17, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="371cb60b" class="cell" data-scrolled="true" data-execution_count="52">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. Could you please provide a more precise location?', '2. Can you be more specific about the exact location you are referring to?', '3. Is it possible to give a more detailed description of the specific location you are interested in?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>[Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="8a8ac93b" class="cell" data-scrolled="true" data-execution_count="53">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. What is the natural environment where the species were discovered?', '2. Can you provide information about the habitat where the species were located?', '3. Where were the species typically found in terms of their habitat?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="53">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 8 this is not to say that the particular trade - offs in fiddler crabs case are analogous to that of hemigrapsus, since both claws in the two shore crabs in this study are used in feeding. sexual dimorphism in chela size, which is readily apparent to the eye in both hemigrapsus nudus and hemigrapsus oregonensis, was detected statistically ( figures 3 and 4 ). the two - way anova with factors sex and species did not show a significant species effect, suggesting that the claws of both shore crabs produce roughly the same force and are functionally equivalent ( behrens yamada and boulding 1998 ). the lack of morphological difference in the size of the chelae between the crab species removes the possibility of character displacement in the trait. it should be noted that this study was not designed to test for character displacement, but to determine if this would be an interesting question for future investigations. to make a compelling case for character displacement it is necessary to compare multiple sympatric and allopatric populations with similar abiotic and biotic conditions ( stuart and losos 2013 ). also it must be demonstrated that the trait differs due to genetic differences between sympatric and allopatric populations, that the differences between the populations are not due to species sorting, that the morphological trait is correlated to differences in resource use between the two sympatric species, and that the similar phenotype in allopatric populations compete for the same resources ( stuart and losos 2013 ). the tendency of h. nudus to occupy the upper intertidal zone ( sliger 1987 ), despite considerable overlap with h. oregonensis, may provide enough differential resource use to prevent exclusion in sympatry. desiccation tolerance may be a better trait to test for character displacement in these shore', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 7, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="3b4e33f3" class="cell" data-scrolled="true" data-execution_count="54">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. Can you provide the latitude and longitude coordinates for any given locations?', '2. Are there any specific latitude and longitude coordinates available for the mentioned locations?', '3. What are the latitude and longitude coordinates associated with the given locations, if any?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="54">
<pre><code>[Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="57a2fc02" class="cell" data-scrolled="true" data-execution_count="55">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>retriever_from_llm.get_relevant_documents(query<span class="op">=</span> query12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>INFO:langchain.retrievers.multi_query:Generated queries: ['1. Does the paper contain any visual aids such as maps, figures, tables, or diagrams?', '2. Are there any graphical representations like maps, figures, tables, or diagrams included in the paper?', '3. Can I find any maps, figures, tables, or diagrams within the paper?']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>[Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="d66c382d" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>template <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="st">Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="st">------</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;ctx&gt;</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="sc">{context}</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/ctx&gt;</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a><span class="st">------</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;hs&gt;</span></span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a><span class="sc">{history}</span></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/hs&gt;</span></span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a><span class="st">------</span></span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a><span class="sc">{question}</span></span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a><span class="st">Answer:</span></span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a>prompt <span class="op">=</span> PromptTemplate(</span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a>    input_variables<span class="op">=</span>[<span class="st">"history"</span>, <span class="st">"context"</span>, <span class="st">"question"</span>],</span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span>template,</span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="retrieval-qa" class="level1">
<h1>Retrieval QA</h1>
<section id="map-refine-document-chain" class="level2">
<h2 class="anchored" data-anchor-id="map-refine-document-chain">Map Refine Document Chain</h2>
<p>The refine documents chain constructs a response by looping over the input documents and iteratively updating its answer. For each document, it passes all non-document inputs, the current document, and the latest intermediate answer to an LLM chain to get a new answer.</p>
<p>Since the Refine chain only passes a single document to the LLM at a time, it is well-suited for tasks that require analyzing more documents than can fit in the model’s context. The obvious tradeoff is that this chain will make far more LLM calls than, for example, the Stuff documents chain. There are also certain tasks which are difficult to accomplish iteratively. For example, the Refine chain can perform poorly when documents frequently cross-reference one another or when a task requires detailed information from many documents.</p>
<div id="40ff0d24" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>llm <span class="op">=</span> ChatOpenAI()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="548ce404" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>qa_refine <span class="op">=</span> RetrievalQA.from_chain_type(llm <span class="op">=</span>llm, chain_type <span class="op">=</span> <span class="st">"refine"</span>, </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>                                        retriever <span class="op">=</span> vs2.as_retriever(),</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>                                       return_source_documents <span class="op">=</span> <span class="va">True</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>                                       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ae1ae8cc" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>query <span class="op">=</span> <span class="st">"what is this paper about?"</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="co">#This format when we include return_source_documents</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>WARNING:langchain.llms.base:Retrying langchain.chat_models.openai.ChatOpenAI.completion_with_retry.&lt;locals&gt;._completion_with_retry in 4.0 seconds as it raised Timeout: Request timed out: HTTPSConnectionPool(host='api.openai.com', port=443): Read timed out. (read timeout=600).</code></pre>
</div>
</div>
<div id="0856b8c6" class="cell" data-scrolled="false" data-execution_count="60">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>result[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<pre><code>'Based on the additional context provided, it appears that the paper focuses on analyzing the consumption rates of individual H. nudus (Hermit crabs) and comparing the mean consumption rates between female and male crabs. The study includes data from eight trials, involving three female crabs (fe1 to fe3) and three male crabs (ma1 to ma3). The paper investigates whether there are differences in consumption rates among individuals that consumed snails and those that did not. The authors report the mean consumption rates along with the standard error of the mean and conduct statistical analysis, including a comparison of consumption rates between snail-consuming individuals.'</code></pre>
</div>
</div>
<div id="0ddccf5e" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>result[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="9dbc5b63" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>query2 <span class="op">=</span><span class="st">"Write a one sentence summary of the purpose of the paper"</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>result2 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query2})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="553f1eb9" class="cell" data-scrolled="true" data-execution_count="63">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>result2[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>'The purpose of the paper is to analyze the differences in propal width: carapace width ratio between sexes and species of crabs, determining the statistical significance of these factors and the interaction between them using a two-way ANOVA.'</code></pre>
</div>
</div>
<div id="5c032a5c" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>result2[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<pre><code>[Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 17, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="afd663cb" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>query4 <span class="op">=</span> <span class="st">"Summarize the paper concisely with reference to materials and methods."</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>result4 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query4})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c1ffdcc5" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>result4[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<pre><code>"Based on the additional context provided, the paper utilized SMA regressions to examine the correlation between carapace width and propal height in different groups (female and male) of two species (H. nudus and H. oregonensis). The relationship between carapace width and propal height is illustrated in Figure 1 of Charifson's study, which includes a line of best fit derived from the SMA regression. Descriptive statistics for each group can be found in Table 1a. However, no specific information about the materials and methods used in the study is provided in the given context."</code></pre>
</div>
</div>
<div id="d4963009" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>result4[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>[Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="443a71b7" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>query5<span class="op">=</span><span class="st">"Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?"</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>result5 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query5})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="57f5c8b6" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>result5[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>'The additional context provided does not directly relate to the presence of observations in the paper. Therefore, the original answer remains applicable. The paper includes observations related to the consumption rates of H. nudus crabs.'</code></pre>
</div>
</div>
<div id="25c05b4a" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>result5[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="a93ed536" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>query6 <span class="op">=</span> <span class="st">"Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="809b7471" class="cell" data-scrolled="true" data-execution_count="72">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>result6 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query6})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="91c8f02f" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>result6[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<pre><code>'Based on the additional context provided, it is clear that the paper contains experimental research conducted in the natural environment or with organisms collected in nature. The author mentions logistical issues with the experimental design, the need for more replication, and the inclusion of more crabs. The acknowledgments also mention the permission to collect organisms, indicating that the study involved collecting organisms from the natural environment.'</code></pre>
</div>
</div>
<div id="bdbb166e" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>result6[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="74">
<pre><code>[Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 10 due to logistical issues surrounding the experimental design and little replication. future studies should include more crabs, the exclusion of non - feeding crabs, and trial periods with longer time intervals. additionally, any subsequent study should utilize multivariate and geometric morphometric methods to quantify claw shape instead of using ratios, as two similar ratios may have different shape. acknowledgements : i would like to thank dianna padilla, michael labarbera, and kevin turner for advice relating to the experimental design of this study. i would also like to thank the director and staff of friday harbor laboratories for use of facilities and permission to collect organisms. friday harbor laboratories, the libbie hyman scholarship, society for integrative and comparative biology, and the stony brook department of ecology and evolution provided financial support and have my gratitude.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 9, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="7d2badc3" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>query7<span class="op">=</span> <span class="st">"What are the scientific names of the species mentioned in this paper?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1ecfc03d" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>result7 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query7})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="3391ed21" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>result7[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="77">
<pre><code>'Based on the additional context provided, the paper mentions two species:\n\n1. H. nudus (scientific name: Hemigrapsus nudus)\n   - Female H. nudus\n   - Male H. nudus\n\n2. H. oregonensis (scientific name: Hemigrapsus oregonensis)\n   - Female H. oregonensis\n   - Male H. oregonensis'</code></pre>
</div>
</div>
<div id="24331ca4" class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>result7[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="78">
<pre><code>[Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="7ca9dcd9" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_refine.run(query7)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="a5540c86" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>query8 <span class="op">=</span> <span class="st">"Does the paper mention where the species were observed or collected, and if so, what locations are given?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c366817c" class="cell" data-execution_count="81">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>result8 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query8})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="748d09aa" class="cell" data-scrolled="true" data-execution_count="82">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>result8[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="82">
<pre><code>'The new context provided does not mention the locations where the species were observed or collected. Therefore, the original answer remains the same. The paper does not mention the specific locations where the species were observed or collected.'</code></pre>
</div>
</div>
<div id="a249b081" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>result8[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>[Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="4b316fd5" class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>query8b <span class="op">=</span> <span class="st">"Can you give a more specific location of where this study took place?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="93c18cc8" class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>result8b <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query8b})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="08ddfe7a" class="cell" data-scrolled="true" data-execution_count="86">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>result8b[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="86">
<pre><code>'Thank you for providing the additional context. However, the given information still does not specify the specific location where the study on regression analyses of carapace width and propus measures for different species of crabs (H. nudus and H. oregonensis) took place.'</code></pre>
</div>
</div>
<div id="0749eca4" class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>result8b[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="87">
<pre><code>[Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="f532e7c4" class="cell" data-execution_count="88">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_refine.run(query8)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1d819d2a" class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>query9 <span class="op">=</span> <span class="st">"Are any coordinate locations given in latitude / longitude, and if so, what are they?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="18bf55ff" class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>result9 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query9})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="3462871b" class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>result9[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="91">
<pre><code>'Apologies for the confusion, but even with the additional context, there are no specific coordinate locations mentioned in the provided text. The text seems to revolve around analyzing differences in cw:ph and cw:pw using a two-way ANOVA. Therefore, there are still no coordinate locations given in latitude/longitude.'</code></pre>
</div>
</div>
<div id="e01160cd" class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>result9[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="92">
<pre><code>[Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="2728138b" class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_refine.run(query9)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f1bf53d9" class="cell" data-execution_count="94">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>query10 <span class="op">=</span> <span class="st">"In what habitat were the species found?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="41f794b3" class="cell" data-execution_count="95">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>result10 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query10})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e11a0c59" class="cell" data-execution_count="96">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>result10[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="96">
<pre><code>'The new context provided does not mention any specific habitat information for the species. Therefore, the original answer still stands as the most accurate response. Based on the information provided in the original question and the absence of additional details in the new context, it is not possible to determine the specific habitat where the mentioned species are found.'</code></pre>
</div>
</div>
<div id="66d0d2e4" class="cell" data-execution_count="97">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>result10[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="97">
<pre><code>[Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="047738e6" class="cell" data-execution_count="98">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_refine.run(query10)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e32a1fb9" class="cell" data-execution_count="99">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>query11 <span class="op">=</span> <span class="st">"Does the paper mention a year, date and/or time that species were collected or observed, and if so, what was mentioned?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c4240d4f" class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>result11 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query11})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="a25a8ba9" class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>result11[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="101">
<pre><code>'Based on the new context provided, the paper does mention the propal width: carapace width ratio between sexes and species. However, there is still no mention of a specific year, date, or time when the species were collected or observed.'</code></pre>
</div>
</div>
<div id="5cb014c5" class="cell" data-execution_count="102">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>result11[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="102">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 17, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="10ad2959" class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_refine.run(query11)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c5a8708b" class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>query12 <span class="op">=</span> <span class="st">"Are there any maps, figures, tables or diagrams in the paper?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="09086a5d" class="cell" data-execution_count="105">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>result12 <span class="op">=</span> qa_refine({<span class="st">"query"</span>: query12})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="798698fd" class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>result12[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="106">
<pre><code>'Based on the new context provided, there is no mention of any additional maps, tables, or diagrams in the paper. Therefore, the original answer remains unchanged.'</code></pre>
</div>
</div>
<div id="078bc64c" class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>result12[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="107">
<pre><code>[Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="d3d65018" class="cell" data-scrolled="true" data-execution_count="108">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_refine.run(query12)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="map-reduce-document-chain" class="level1">
<h1>Map Reduce Document Chain</h1>
<p>The map reduce documents chain first applies an LLM chain to each document individually (the Map step), treating the chain output as a new document. It then passes all the new documents to a separate combine documents chain to get a single output (the Reduce step). It can optionally first compress, or collapse, the mapped documents to make sure that they fit in the combine documents chain (which will often pass them to an LLM). This compression step is performed recursively if necessary.</p>
<div id="fddef6c0" class="cell" data-execution_count="109">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>qa_reduce <span class="op">=</span> RetrievalQA.from_chain_type(llm <span class="op">=</span>llm, chain_type <span class="op">=</span> <span class="st">"map_reduce"</span>, retriever <span class="op">=</span> vs2.as_retriever())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="77e17827" class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co">#What is this paper about?</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="110">
<pre><code>'Based on the provided text, it is not possible to determine what the paper is about. The text only presents regression equations for the relationship between carapace width and propal height/width for different species and genders of organisms. More context or additional information is needed to determine the overall topic or purpose of the paper.'</code></pre>
</div>
</div>
<div id="1506416c" class="cell" data-execution_count="111">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write a one sentence summary of the purpose of the paper.</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="111">
<pre><code>'The purpose of the paper is to analyze the relationship between carapace width and propal height/width in different species of crabs, investigating the differences in ratios between sexes and species.'</code></pre>
</div>
</div>
<div id="f28ee093" class="cell" data-execution_count="112">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the paper concisely with reference to materials and methods.</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="112">
<pre><code>'The paper examines the relationship between carapace width and propal height and width in two species of crabs, H. nudus and H. oregonensis. The authors collected data on female and male crabs and used simple moving average (SMA) regression analysis to analyze the data. They found that carapace width is positively correlated with propal height and width in both species, with varying strength of correlation. Descriptive statistics can be found in Table 1a for carapace width and propal height, and in Table 1b for carapace width and propal width.'</code></pre>
</div>
</div>
<div id="6ea4984e" class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations? </span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="113">
<pre><code>'Based on the provided portion of the document, it does not appear to include any specific observations.'</code></pre>
</div>
</div>
<div id="cdbd0e2f" class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="114">
<pre><code>'There is no information provided in the given portion of the document to determine whether the research conducted was observational or experimental, or if it was conducted in the natural environment or with organisms collected in nature.'</code></pre>
</div>
</div>
<div id="e12b3257" class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="co">#What are the scientific names of the species mentioned in this paper?</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="115">
<pre><code>'The scientific names of the species mentioned in this paper are Hemigrapsus nudus and Hemigrapsus oregonensis.'</code></pre>
</div>
</div>
<div id="ccc76bb5" class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Does the paper mention where the species were observed or collected, and if so, what locations are given?</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="116">
<pre><code>'The provided portion of the document does not mention the locations where the species were observed or collected.'</code></pre>
</div>
</div>
<div id="009a8f96" class="cell" data-execution_count="117">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Are any coordinate locations given in latitude / longitude, and if so, what are they?</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="117">
<pre><code>'No, there are no coordinate locations given in latitude/longitude in the provided text.'</code></pre>
</div>
</div>
<div id="841c790a" class="cell" data-execution_count="118">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co">#In what habitat were the species found?</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="118">
<pre><code>'The given portion of the document does not provide any information about the habitat in which the species were found. Therefore, it is unknown in what habitat the species were found.'</code></pre>
</div>
</div>
<div id="3410eb49" class="cell" data-execution_count="119">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Does the paper mention a year, date and/or time that species were collected or observed, and if so, what was mentioned?</span></span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="119">
<pre><code>'The provided portion of the document does not mention anything about the year, date, or time of species collection or observation.'</code></pre>
</div>
</div>
<div id="cd5342a8" class="cell" data-scrolled="true" data-execution_count="120">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Are there any maps, figures, tables or diagrams in the paper?</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a>qa_reduce.run(query12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="120">
<pre><code>'There is no information provided in the given portion of the document about the presence of maps, figures, tables, or diagrams.'</code></pre>
</div>
</div>
</section>
<section id="map-re-rank-document-chain" class="level1">
<h1>Map Re-rank Document Chain</h1>
<p>The map re-rank documents chain runs an initial prompt on each document, that not only tries to complete a task but also gives a score for how certain it is in its answer. The highest scoring response is returned.</p>
<div id="d98dd0f5" class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>qa_rank <span class="op">=</span> RetrievalQA.from_chain_type(llm <span class="op">=</span>llm, chain_type <span class="op">=</span> <span class="st">"map_rerank"</span>, retriever <span class="op">=</span> vs2.as_retriever())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cc432c3d" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co">#What is this paper about?</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\aclao89\AppData\Local\anaconda3\lib\site-packages\langchain\chains\llm.py:303: UserWarning: The apply_and_parse method is deprecated, instead pass an output parser directly to LLMChain.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="122">
<pre><code>'This document is about biometry and ecological character displacement.'</code></pre>
</div>
</div>
<div id="6ec11f79" class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Write a one sentence summary of the purpose of the paper</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="123">
<pre><code>'This document does not provide enough information to determine the purpose of the paper.'</code></pre>
</div>
</div>
<div id="bb64f8c4" class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Summarize the paper concisely with reference to materials and methods.</span></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="124">
<pre><code>'This document provides a summary of the relationship between carapace width and propal width in different species of Hemigrapsus crabs. It includes data for female and male H. nudus and H. oregonensis, along with a line of best fit obtained from a simple linear regression analysis. Table 1b contains descriptive statistics for the data. '</code></pre>
</div>
</div>
<div id="1b47225b" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations? </span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="125">
<pre><code>'This document does not answer the question'</code></pre>
</div>
</div>
<div id="d8456aec" class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?</span></span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="126">
<pre><code>'Yes, this paper contains experimental research conducted in the natural environment with organisms collected in nature.'</code></pre>
</div>
</div>
<div id="9fbef1ad" class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co">#What are the scientific names of the species mentioned in this paper?</span></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="127">
<pre><code>'h. nudus'</code></pre>
</div>
</div>
<div id="28fea792" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Does the paper mention where the species were observed or collected, and if so, what locations are given?</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="128">
<pre><code>'This document does not mention where the species were observed or collected.'</code></pre>
</div>
</div>
<div id="e25bbc4e" class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Are any coordinate locations given in latitude / longitude, and if so, what are they?</span></span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-3"><a href="#cb200-3" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="129">
<pre><code>'No, there are no coordinate locations given in latitude/longitude.'</code></pre>
</div>
</div>
<div id="3397cb0c" class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In what habitat were the species found?</span></span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="130">
<pre><code>'The species were found in the intertidal habitat.'</code></pre>
</div>
</div>
<div id="992b9dc7" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Does the paper mention a year, date and/or time that species were collected or observed, and if so, what was mentioned?</span></span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="131">
<pre><code>'This document does not mention a year, date, or time that species were collected or observed.'</code></pre>
</div>
</div>
<div id="ec7e2c26" class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Are there any maps, figures, tables or diagrams in the paper?</span></span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-3"><a href="#cb206-3" aria-hidden="true" tabindex="-1"></a>qa_rank.run(query12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="132">
<pre><code>'Yes, there are figures in the paper. Figure 1 shows the relationship of carapace width and propal height in hemigrapsus. It includes four subfigures: a) female H. nudus, b) male H. nudus, c) female H. oregonensis, and d) male H. oregonensis. Table 1a also provides descriptive statistics. '</code></pre>
</div>
</div>
</section>
<section id="stuff-document-chain-w-conversationbuffermemory" class="level1">
<h1>Stuff Document Chain w/ ConversationBufferMemory</h1>
<p>The stuff documents chain (“stuff” as in “to stuff” or “to fill”) is the most straightforward of the document chains. It takes a list of documents, inserts them all into a prompt and passes that prompt to an LLM.</p>
<p>This chain is well-suited for applications where documents are small and only a few are passed in for most calls.</p>
<div id="d3c4469a" class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a>template <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="st">Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:</span></span>
<span id="cb208-3"><a href="#cb208-3" aria-hidden="true" tabindex="-1"></a><span class="st">------</span></span>
<span id="cb208-4"><a href="#cb208-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;ctx&gt;</span></span>
<span id="cb208-5"><a href="#cb208-5" aria-hidden="true" tabindex="-1"></a><span class="sc">{context}</span></span>
<span id="cb208-6"><a href="#cb208-6" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/ctx&gt;</span></span>
<span id="cb208-7"><a href="#cb208-7" aria-hidden="true" tabindex="-1"></a><span class="st">------</span></span>
<span id="cb208-8"><a href="#cb208-8" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;hs&gt;</span></span>
<span id="cb208-9"><a href="#cb208-9" aria-hidden="true" tabindex="-1"></a><span class="sc">{history}</span></span>
<span id="cb208-10"><a href="#cb208-10" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/hs&gt;</span></span>
<span id="cb208-11"><a href="#cb208-11" aria-hidden="true" tabindex="-1"></a><span class="st">------</span></span>
<span id="cb208-12"><a href="#cb208-12" aria-hidden="true" tabindex="-1"></a><span class="sc">{question}</span></span>
<span id="cb208-13"><a href="#cb208-13" aria-hidden="true" tabindex="-1"></a><span class="st">Answer:</span></span>
<span id="cb208-14"><a href="#cb208-14" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb208-15"><a href="#cb208-15" aria-hidden="true" tabindex="-1"></a>prompt <span class="op">=</span> PromptTemplate(</span>
<span id="cb208-16"><a href="#cb208-16" aria-hidden="true" tabindex="-1"></a>    input_variables<span class="op">=</span>[<span class="st">"history"</span>, <span class="st">"context"</span>, <span class="st">"question"</span>],</span>
<span id="cb208-17"><a href="#cb208-17" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span>template,</span>
<span id="cb208-18"><a href="#cb208-18" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="75490428" class="cell" data-execution_count="134">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>qa_stuff <span class="op">=</span> RetrievalQA.from_chain_type(llm <span class="op">=</span>llm, chain_type <span class="op">=</span> <span class="st">"stuff"</span>, </span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>                                        retriever <span class="op">=</span> vs2.as_retriever(),</span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a>                                        verbose <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>                                        chain_type_kwargs <span class="op">=</span>{</span>
<span id="cb209-5"><a href="#cb209-5" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"verbose"</span>: <span class="va">True</span>,</span>
<span id="cb209-6"><a href="#cb209-6" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"prompt"</span> : prompt,</span>
<span id="cb209-7"><a href="#cb209-7" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"memory"</span> : ConversationBufferMemory(</span>
<span id="cb209-8"><a href="#cb209-8" aria-hidden="true" tabindex="-1"></a>                                            memory_key <span class="op">=</span> <span class="st">"history"</span>,</span>
<span id="cb209-9"><a href="#cb209-9" aria-hidden="true" tabindex="-1"></a>                                            input_key <span class="op">=</span> <span class="st">"question"</span>)</span>
<span id="cb209-10"><a href="#cb209-10" aria-hidden="true" tabindex="-1"></a>                                        },</span>
<span id="cb209-11"><a href="#cb209-11" aria-hidden="true" tabindex="-1"></a>                                        return_source_documents <span class="op">=</span> <span class="va">True</span></span>
<span id="cb209-12"><a href="#cb209-12" aria-hidden="true" tabindex="-1"></a>                                       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="85e2bf73" class="cell" data-execution_count="135">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff = RetrievalQA.from_chain_type(llm =llm, chain_type = "stuff", retriever = vs2.as_retriever())</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c97f1cb2" class="cell" data-scrolled="true" data-execution_count="136">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="co">#What is this paper about?</span></span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a>stuff_result1 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534

charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus
&lt;/ctx&gt;
------
&lt;hs&gt;

&lt;/hs&gt;
------
what is this paper about?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="c6a18ab5" class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>stuff_result1[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="137">
<pre><code>'The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.'</code></pre>
</div>
</div>
<div id="5c2f6851" class="cell" data-execution_count="138">
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>stuff_result1[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="138">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="c51f7301" class="cell" data-execution_count="139">
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Write a one sentence summary of the purpose of the paper</span></span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a>stuff_result2 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query2})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534

and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male

charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
&lt;/hs&gt;
------
Write a one sentence summary of the purpose of the paper
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="e02431a3" class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>stuff_result2[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="140">
<pre><code>'The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.'</code></pre>
</div>
</div>
<div id="1d642716" class="cell" data-execution_count="141">
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>query3 <span class="op">=</span> <span class="st">"And who wrote the paper?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5b6b07dc" class="cell" data-scrolled="true" data-execution_count="142">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>stuff_result3 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query3})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
&lt;/hs&gt;
------
And who wrote the paper?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="952090c1" class="cell" data-execution_count="143">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a>stuff_result3[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="143">
<pre><code>'The authors of the paper are Charifson and Rohlf (2011).'</code></pre>
</div>
</div>
<div id="eff97982" class="cell" data-execution_count="144">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>stuff_result4 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query4})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534

charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
Human: And who wrote the paper?
AI: The authors of the paper are Charifson and Rohlf (2011).
&lt;/hs&gt;
------
Summarize the paper concisely with reference to materials and methods.
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="5deb41c3" class="cell" data-scrolled="true" data-execution_count="145">
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>stuff_result4[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="145">
<pre><code>'The paper analyzed the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs using a two-way ANOVA. The authors used SMA regression to determine the relationship between carapace width and propal height/propal width in different sexes and species.'</code></pre>
</div>
</div>
<div id="86474ba9" class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>stuff_result4[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="146">
<pre><code>[Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="b0500936" class="cell" data-execution_count="147">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Summarize the paper concisely with reference to materials and methods.</span></span>
<span id="cb232-2"><a href="#cb232-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-3"><a href="#cb232-3" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff.run(query4)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="d525e996" class="cell" data-execution_count="148">
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>stuff_result5 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query5})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be

charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus

and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
Human: And who wrote the paper?
AI: The authors of the paper are Charifson and Rohlf (2011).
Human: Summarize the paper concisely with reference to materials and methods.
AI: The paper analyzed the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs using a two-way ANOVA. The authors used SMA regression to determine the relationship between carapace width and propal height/propal width in different sexes and species.
&lt;/hs&gt;
------
Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="1e025545" class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a>stuff_result5[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="149">
<pre><code>'Based on the given context, it is not clear whether the paper includes one or more observations. The context does not provide specific information or details about any observations made in the study.'</code></pre>
</div>
</div>
<div id="a61891b4" class="cell" data-execution_count="150">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a>stuff_result5[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="150">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="4053a7ca" class="cell" data-execution_count="151">
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations? </span></span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff.run(query5)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5759d82f" class="cell" data-execution_count="152">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>stuff_result6 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query6})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

charifson 10 due to logistical issues surrounding the experimental design and little replication. future studies should include more crabs, the exclusion of non - feeding crabs, and trial periods with longer time intervals. additionally, any subsequent study should utilize multivariate and geometric morphometric methods to quantify claw shape instead of using ratios, as two similar ratios may have different shape. acknowledgements : i would like to thank dianna padilla, michael labarbera, and kevin turner for advice relating to the experimental design of this study. i would also like to thank the director and staff of friday harbor laboratories for use of facilities and permission to collect organisms. friday harbor laboratories, the libbie hyman scholarship, society for integrative and comparative biology, and the stony brook department of ecology and evolution provided financial support and have my gratitude.
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
Human: And who wrote the paper?
AI: The authors of the paper are Charifson and Rohlf (2011).
Human: Summarize the paper concisely with reference to materials and methods.
AI: The paper analyzed the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs using a two-way ANOVA. The authors used SMA regression to determine the relationship between carapace width and propal height/propal width in different sexes and species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
AI: Based on the given context, it is not clear whether the paper includes one or more observations. The context does not provide specific information or details about any observations made in the study.
&lt;/hs&gt;
------
Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="6d1cceaf" class="cell" data-execution_count="153">
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>stuff_result6[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="153">
<pre><code>'Based on the given context, it is not clear whether the paper contains observational or experimental research conducted in the natural environment or with organisms collected in nature. The context does not provide specific information or details about the research methods used in the study.'</code></pre>
</div>
</div>
<div id="64944b1b" class="cell" data-execution_count="154">
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>stuff_result6[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="154">
<pre><code>[Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 10 due to logistical issues surrounding the experimental design and little replication. future studies should include more crabs, the exclusion of non - feeding crabs, and trial periods with longer time intervals. additionally, any subsequent study should utilize multivariate and geometric morphometric methods to quantify claw shape instead of using ratios, as two similar ratios may have different shape. acknowledgements : i would like to thank dianna padilla, michael labarbera, and kevin turner for advice relating to the experimental design of this study. i would also like to thank the director and staff of friday harbor laboratories for use of facilities and permission to collect organisms. friday harbor laboratories, the libbie hyman scholarship, society for integrative and comparative biology, and the stony brook department of ecology and evolution provided financial support and have my gratitude.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 9, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="cc5dbc43" class="cell" data-execution_count="155">
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?</span></span>
<span id="cb246-2"><a href="#cb246-2" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff.run(query6)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="d446fe6f" class="cell" data-scrolled="true" data-execution_count="156">
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a>stuff_result7 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query7})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
Human: And who wrote the paper?
AI: The authors of the paper are Charifson and Rohlf (2011).
Human: Summarize the paper concisely with reference to materials and methods.
AI: The paper analyzed the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs using a two-way ANOVA. The authors used SMA regression to determine the relationship between carapace width and propal height/propal width in different sexes and species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
AI: Based on the given context, it is not clear whether the paper includes one or more observations. The context does not provide specific information or details about any observations made in the study.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
AI: Based on the given context, it is not clear whether the paper contains observational or experimental research conducted in the natural environment or with organisms collected in nature. The context does not provide specific information or details about the research methods used in the study.
&lt;/hs&gt;
------
What are the scientific names of the species mentioned in this paper?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="84839dd0" class="cell" data-execution_count="157">
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a>stuff_result7[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="157">
<pre><code>'The scientific names of the species mentioned in this paper are H. nudus and H. oregonensis.'</code></pre>
</div>
</div>
<div id="a9da719c" class="cell" data-execution_count="158">
<div class="sourceCode cell-code" id="cb251"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a>stuff_result7[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="158">
<pre><code>[Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="75406a56" class="cell" data-execution_count="159">
<div class="sourceCode cell-code" id="cb253"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="co">#What are the scientific names of the species mentioned in this paper?</span></span>
<span id="cb253-2"><a href="#cb253-2" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff.run(query7)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="d3fe7878" class="cell" data-execution_count="160">
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a>stuff_result8 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query8})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be

charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
Human: And who wrote the paper?
AI: The authors of the paper are Charifson and Rohlf (2011).
Human: Summarize the paper concisely with reference to materials and methods.
AI: The paper analyzed the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs using a two-way ANOVA. The authors used SMA regression to determine the relationship between carapace width and propal height/propal width in different sexes and species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
AI: Based on the given context, it is not clear whether the paper includes one or more observations. The context does not provide specific information or details about any observations made in the study.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
AI: Based on the given context, it is not clear whether the paper contains observational or experimental research conducted in the natural environment or with organisms collected in nature. The context does not provide specific information or details about the research methods used in the study.
Human: What are the scientific names of the species mentioned in this paper?
AI: The scientific names of the species mentioned in this paper are H. nudus and H. oregonensis.
&lt;/hs&gt;
------
Does the paper mention where the species were observed or collected, and if so, what locations are given?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="bd9d857c" class="cell" data-execution_count="161">
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a>stuff_result8[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="161">
<pre><code>'Based on the given context, it is not mentioned where the species were observed or collected. No specific locations are given in the context.'</code></pre>
</div>
</div>
<div id="dc1f6dee" class="cell" data-execution_count="162">
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a>stuff_result8[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="162">
<pre><code>[Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="9711c260" class="cell" data-execution_count="163">
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Does the paper mention where the species were observed or collected, and if so, what locations are given?</span></span>
<span id="cb260-2"><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff.run(query8)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2a4431f9" class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a>stuff_result9 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query9})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
to right sides of the propus. all claw measurements were made on the left cheliped.

charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
Human: And who wrote the paper?
AI: The authors of the paper are Charifson and Rohlf (2011).
Human: Summarize the paper concisely with reference to materials and methods.
AI: The paper analyzed the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs using a two-way ANOVA. The authors used SMA regression to determine the relationship between carapace width and propal height/propal width in different sexes and species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
AI: Based on the given context, it is not clear whether the paper includes one or more observations. The context does not provide specific information or details about any observations made in the study.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
AI: Based on the given context, it is not clear whether the paper contains observational or experimental research conducted in the natural environment or with organisms collected in nature. The context does not provide specific information or details about the research methods used in the study.
Human: What are the scientific names of the species mentioned in this paper?
AI: The scientific names of the species mentioned in this paper are H. nudus and H. oregonensis.
Human: Does the paper mention where the species were observed or collected, and if so, what locations are given?
AI: Based on the given context, it is not mentioned where the species were observed or collected. No specific locations are given in the context.
&lt;/hs&gt;
------
Are any coordinate locations given in latitude / longitude, and if so, what are they?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="7d599969" class="cell" data-execution_count="165">
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a>stuff_result9[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="165">
<pre><code>'No, there are no coordinate locations given in latitude/longitude in the provided context.'</code></pre>
</div>
</div>
<div id="bc2331e0" class="cell" data-execution_count="166">
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a>stuff_result9[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="166">
<pre><code>[Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="f4bbd077" class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Are any coordinate locations given in latitude / longitude, and if so, what are they?</span></span>
<span id="cb267-2"><a href="#cb267-2" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff.run(query9)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="52dda0aa" class="cell" data-execution_count="168">
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a>stuff_result10 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query10})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be

charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
Human: And who wrote the paper?
AI: The authors of the paper are Charifson and Rohlf (2011).
Human: Summarize the paper concisely with reference to materials and methods.
AI: The paper analyzed the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs using a two-way ANOVA. The authors used SMA regression to determine the relationship between carapace width and propal height/propal width in different sexes and species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
AI: Based on the given context, it is not clear whether the paper includes one or more observations. The context does not provide specific information or details about any observations made in the study.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
AI: Based on the given context, it is not clear whether the paper contains observational or experimental research conducted in the natural environment or with organisms collected in nature. The context does not provide specific information or details about the research methods used in the study.
Human: What are the scientific names of the species mentioned in this paper?
AI: The scientific names of the species mentioned in this paper are H. nudus and H. oregonensis.
Human: Does the paper mention where the species were observed or collected, and if so, what locations are given?
AI: Based on the given context, it is not mentioned where the species were observed or collected. No specific locations are given in the context.
Human: Are any coordinate locations given in latitude / longitude, and if so, what are they?
AI: No, there are no coordinate locations given in latitude/longitude in the provided context.
&lt;/hs&gt;
------
In what habitat were the species found?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="edce927c" class="cell" data-execution_count="169">
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a>stuff_result10[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="169">
<pre><code>'Based on the given context, it is mentioned that H. nudus and la. vincta usually occupy different portions of the intertidal habitat.'</code></pre>
</div>
</div>
<div id="4265a11f" class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a>stuff_result10[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="170">
<pre><code>[Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="96ef4669" class="cell" data-execution_count="171">
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a><span class="co">#In what habitat were the species found?</span></span>
<span id="cb274-2"><a href="#cb274-2" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff.run(query10)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5cadaae1" class="cell" data-execution_count="172">
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a>stuff_result11 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query11})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male

charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
Human: And who wrote the paper?
AI: The authors of the paper are Charifson and Rohlf (2011).
Human: Summarize the paper concisely with reference to materials and methods.
AI: The paper analyzed the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs using a two-way ANOVA. The authors used SMA regression to determine the relationship between carapace width and propal height/propal width in different sexes and species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
AI: Based on the given context, it is not clear whether the paper includes one or more observations. The context does not provide specific information or details about any observations made in the study.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
AI: Based on the given context, it is not clear whether the paper contains observational or experimental research conducted in the natural environment or with organisms collected in nature. The context does not provide specific information or details about the research methods used in the study.
Human: What are the scientific names of the species mentioned in this paper?
AI: The scientific names of the species mentioned in this paper are H. nudus and H. oregonensis.
Human: Does the paper mention where the species were observed or collected, and if so, what locations are given?
AI: Based on the given context, it is not mentioned where the species were observed or collected. No specific locations are given in the context.
Human: Are any coordinate locations given in latitude / longitude, and if so, what are they?
AI: No, there are no coordinate locations given in latitude/longitude in the provided context.
Human: In what habitat were the species found?
AI: Based on the given context, it is mentioned that H. nudus and la. vincta usually occupy different portions of the intertidal habitat.
&lt;/hs&gt;
------
Does the paper mention a year, date and/or time that species were collected or observed, and if so, what was mentioned?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="d031c8e9" class="cell" data-execution_count="173">
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a>stuff_result11[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="173">
<pre><code>'No, the paper does not mention a year, date, or time that the species were collected or observed.'</code></pre>
</div>
</div>
<div id="43fd146d" class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a>stuff_result11[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="174">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 16, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 17, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="066d1a8c" class="cell" data-execution_count="175">
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Does the paper mention a year, date and/or time that species were collected or observed, and if so, what was mentioned?</span></span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff.run(query11)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2c120e05" class="cell" data-execution_count="176">
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a>stuff_result12 <span class="op">=</span> qa_stuff({<span class="st">"query"</span>: query12})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new RetrievalQA chain...


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:

Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:
------
&lt;ctx&gt;
to right sides of the propus. all claw measurements were made on the left cheliped.

charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova
&lt;/ctx&gt;
------
&lt;hs&gt;
Human: what is this paper about?
AI: The paper is about the analysis of carapace width and propus measures in different species of crabs, specifically H. nudus and H. oregonensis. It also discusses the consumption rates of individual H. nudus crabs.
Human: Write a one sentence summary of the purpose of the paper
AI: The purpose of the paper is to analyze the relationship between carapace width and propus measures in different species of crabs and investigate the differences in propal height and propal width between sexes and species.
Human: And who wrote the paper?
AI: The authors of the paper are Charifson and Rohlf (2011).
Human: Summarize the paper concisely with reference to materials and methods.
AI: The paper analyzed the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs using a two-way ANOVA. The authors used SMA regression to determine the relationship between carapace width and propal height/propal width in different sexes and species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
AI: Based on the given context, it is not clear whether the paper includes one or more observations. The context does not provide specific information or details about any observations made in the study.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
AI: Based on the given context, it is not clear whether the paper contains observational or experimental research conducted in the natural environment or with organisms collected in nature. The context does not provide specific information or details about the research methods used in the study.
Human: What are the scientific names of the species mentioned in this paper?
AI: The scientific names of the species mentioned in this paper are H. nudus and H. oregonensis.
Human: Does the paper mention where the species were observed or collected, and if so, what locations are given?
AI: Based on the given context, it is not mentioned where the species were observed or collected. No specific locations are given in the context.
Human: Are any coordinate locations given in latitude / longitude, and if so, what are they?
AI: No, there are no coordinate locations given in latitude/longitude in the provided context.
Human: In what habitat were the species found?
AI: Based on the given context, it is mentioned that H. nudus and la. vincta usually occupy different portions of the intertidal habitat.
Human: Does the paper mention a year, date and/or time that species were collected or observed, and if so, what was mentioned?
AI: No, the paper does not mention a year, date, or time that the species were collected or observed.
&lt;/hs&gt;
------
Are there any maps, figures, tables or diagrams in the paper?
Answer:


&gt; Finished chain.

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="61bcd9d5" class="cell" data-execution_count="177">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a>stuff_result12[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="177">
<pre><code>'Based on the given context, it is mentioned that there are figures in the paper. Specifically, Figure 1 and Figure 2 are referenced, which show the relationship of carapace width and propal height/width in different species and sexes of crabs. The tables mentioned are Table 1a and Table 1b, which provide descriptive statistics related to the figures. It is not mentioned whether there are any maps, diagrams, or additional tables in the paper.'</code></pre>
</div>
</div>
<div id="d7e1ad57" class="cell" data-execution_count="178">
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a>stuff_result12[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="178">
<pre><code>[Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 15, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 14, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="9d97eb50" class="cell" data-execution_count="179">
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Are there any maps, figures, tables or diagrams in the paper?</span></span>
<span id="cb288-2"><a href="#cb288-2" aria-hidden="true" tabindex="-1"></a><span class="co"># qa_stuff.run(query12)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load_qa_chain-prompting" class="level1">
<h1>Load_QA_Chain &amp; Prompting</h1>
<div id="f809e836" class="cell" data-execution_count="180">
<div class="sourceCode cell-code" id="cb289"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb289-1"><a href="#cb289-1" aria-hidden="true" tabindex="-1"></a>new_template <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb289-2"><a href="#cb289-2" aria-hidden="true" tabindex="-1"></a><span class="st">You are an expert on species occurrences. Your task is to generate information based on the 5 major sections: abstract, introduction, materials &amp; methods, results, and discussion</span></span>
<span id="cb289-3"><a href="#cb289-3" aria-hidden="true" tabindex="-1"></a><span class="st">Please do not pull information from the literature citations.</span></span>
<span id="cb289-4"><a href="#cb289-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-5"><a href="#cb289-5" aria-hidden="true" tabindex="-1"></a><span class="st">Use the following context (delimited by &lt;ctx&gt;&lt;/ctx&gt;) and the chat history (delimited by &lt;hs&gt;&lt;/hs&gt;) to answer the question:</span></span>
<span id="cb289-6"><a href="#cb289-6" aria-hidden="true" tabindex="-1"></a><span class="st">------</span></span>
<span id="cb289-7"><a href="#cb289-7" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;ctx&gt;</span></span>
<span id="cb289-8"><a href="#cb289-8" aria-hidden="true" tabindex="-1"></a><span class="sc">{context}</span></span>
<span id="cb289-9"><a href="#cb289-9" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/ctx&gt;</span></span>
<span id="cb289-10"><a href="#cb289-10" aria-hidden="true" tabindex="-1"></a><span class="st">------</span></span>
<span id="cb289-11"><a href="#cb289-11" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;hs&gt;</span></span>
<span id="cb289-12"><a href="#cb289-12" aria-hidden="true" tabindex="-1"></a><span class="sc">{history}</span></span>
<span id="cb289-13"><a href="#cb289-13" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/hs&gt;</span></span>
<span id="cb289-14"><a href="#cb289-14" aria-hidden="true" tabindex="-1"></a><span class="st">------</span></span>
<span id="cb289-15"><a href="#cb289-15" aria-hidden="true" tabindex="-1"></a><span class="sc">{question}</span></span>
<span id="cb289-16"><a href="#cb289-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-17"><a href="#cb289-17" aria-hidden="true" tabindex="-1"></a><span class="st">Answer:</span></span>
<span id="cb289-18"><a href="#cb289-18" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb289-19"><a href="#cb289-19" aria-hidden="true" tabindex="-1"></a>new_prompt <span class="op">=</span> PromptTemplate(</span>
<span id="cb289-20"><a href="#cb289-20" aria-hidden="true" tabindex="-1"></a>    input_variables<span class="op">=</span>[<span class="st">"history"</span>, <span class="st">"context"</span>, <span class="st">"question"</span>],</span>
<span id="cb289-21"><a href="#cb289-21" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span>new_template,</span>
<span id="cb289-22"><a href="#cb289-22" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1d8835ef" class="cell" data-execution_count="181">
<div class="sourceCode cell-code" id="cb290"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.chains.question_answering <span class="im">import</span> load_qa_chain</span>
<span id="cb290-2"><a href="#cb290-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb290-3"><a href="#cb290-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb290-4"><a href="#cb290-4" aria-hidden="true" tabindex="-1"></a>qa_chain <span class="op">=</span> load_qa_chain(ChatOpenAI(temperature<span class="op">=</span><span class="dv">0</span>), chain_type <span class="op">=</span> <span class="st">"stuff"</span>)</span>
<span id="cb290-5"><a href="#cb290-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb290-6"><a href="#cb290-6" aria-hidden="true" tabindex="-1"></a>qa_stuff_combine <span class="op">=</span> RetrievalQA(combine_documents_chain<span class="op">=</span>qa_chain, </span>
<span id="cb290-7"><a href="#cb290-7" aria-hidden="true" tabindex="-1"></a>                               retriever<span class="op">=</span>vs2.as_retriever(),</span>
<span id="cb290-8"><a href="#cb290-8" aria-hidden="true" tabindex="-1"></a>                               return_source_documents <span class="op">=</span> <span class="va">True</span></span>
<span id="cb290-9"><a href="#cb290-9" aria-hidden="true" tabindex="-1"></a>                                   )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c35aac6f" class="cell" data-execution_count="182">
<div class="sourceCode cell-code" id="cb291"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb291-1"><a href="#cb291-1" aria-hidden="true" tabindex="-1"></a>combine_result <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="efecf7aa" class="cell" data-execution_count="183">
<div class="sourceCode cell-code" id="cb292"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a>combine_result[<span class="st">'result'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="183">
<pre><code>'Based on the provided context, the paper appears to be about various analyses and measurements related to carapace width and propus measures in different species of crabs (H. nudus and H. oregonensis). It includes information on the relationship between carapace width and propal height/width, as well as consumption rates of snails by individual H. nudus crabs.'</code></pre>
</div>
</div>
<div id="60500b17" class="cell" data-scrolled="true" data-execution_count="184">
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a>combine_result[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="184">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="945a786a" class="cell" data-execution_count="185">
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a>combine_result2 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query2})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f5f0617e" class="cell" data-execution_count="186">
<div class="sourceCode cell-code" id="cb297"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb297-1"><a href="#cb297-1" aria-hidden="true" tabindex="-1"></a>combine_result2[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="186">
<pre><code>'The purpose of the paper is to analyze the relationship between carapace width and propus measures in two species of crabs, specifically focusing on propal height and propal width.'</code></pre>
</div>
</div>
<div id="51a4a842" class="cell" data-execution_count="187">
<div class="sourceCode cell-code" id="cb299"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb299-1"><a href="#cb299-1" aria-hidden="true" tabindex="-1"></a>combine_result3 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query3})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2acb1a68" class="cell" data-execution_count="188">
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a>combine_result3[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="188">
<pre><code>'The author of the paper is not mentioned in the given context.'</code></pre>
</div>
</div>
<div id="060d269a" class="cell" data-execution_count="189">
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a>combine_result4 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query4})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="8cf5dd47" class="cell" data-execution_count="190">
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a>combine_result4[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="190">
<pre><code>'The paper analyzed the relationship between carapace width and propal height and width in different species of Hemigrapsus crabs. The authors used a two-way ANOVA to compare the differences in carapace width to propal height and width. They performed SMA regressions to determine the relationship between carapace width and propal height and width in female and male H. nudus and H. oregonensis crabs. The results were presented in tables and figures, showing the line of best fit for each species and gender.'</code></pre>
</div>
</div>
<div id="c93651fc" class="cell" data-execution_count="191">
<div class="sourceCode cell-code" id="cb305"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a>combine_result5 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query5})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="7bb34959" class="cell" data-execution_count="192">
<div class="sourceCode cell-code" id="cb306"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a>combine_result5[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="192">
<pre><code>'Based on the provided context, it is not clear whether the paper includes one or more specific observations.'</code></pre>
</div>
</div>
<div id="185fb386" class="cell" data-execution_count="193">
<div class="sourceCode cell-code" id="cb308"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a>combine_result6 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query6})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2183c253" class="cell" data-execution_count="194">
<div class="sourceCode cell-code" id="cb309"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb309-1"><a href="#cb309-1" aria-hidden="true" tabindex="-1"></a>combine_result6[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="194">
<pre><code>'Based on the given context, it appears that the research described in the paper is experimental research conducted in the natural environment with organisms collected in nature. The acknowledgements section mentions the permission to collect organisms and the use of facilities at Friday Harbor Laboratories.'</code></pre>
</div>
</div>
<div id="ca93e1e7" class="cell" data-execution_count="195">
<div class="sourceCode cell-code" id="cb311"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb311-1"><a href="#cb311-1" aria-hidden="true" tabindex="-1"></a>combine_result7 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query7})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="53b7a298" class="cell" data-execution_count="196">
<div class="sourceCode cell-code" id="cb312"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb312-1"><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a>combine_result7[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="196">
<pre><code>'The scientific names of the species mentioned in this paper are Hemigrapsus nudus and Hemigrapsus oregonensis.'</code></pre>
</div>
</div>
<div id="265598bf" class="cell" data-execution_count="197">
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a>combine_result8 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query8})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b1482a5b" class="cell" data-execution_count="198">
<div class="sourceCode cell-code" id="cb315"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb315-1"><a href="#cb315-1" aria-hidden="true" tabindex="-1"></a>combine_result8[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="198">
<pre><code>'No, the paper does not mention specific locations where the species were observed or collected.'</code></pre>
</div>
</div>
<div id="3455f1ca" class="cell" data-execution_count="199">
<div class="sourceCode cell-code" id="cb317"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb317-1"><a href="#cb317-1" aria-hidden="true" tabindex="-1"></a>combine_result9 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query9})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="dceedec0" class="cell" data-execution_count="200">
<div class="sourceCode cell-code" id="cb318"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb318-1"><a href="#cb318-1" aria-hidden="true" tabindex="-1"></a>combine_result9[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="200">
<pre><code>'No, there are no coordinate locations given in latitude/longitude in the provided context.'</code></pre>
</div>
</div>
<div id="83210689" class="cell" data-execution_count="201">
<div class="sourceCode cell-code" id="cb320"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb320-1"><a href="#cb320-1" aria-hidden="true" tabindex="-1"></a>combine_result10 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query10})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="bb6aaeee" class="cell" data-execution_count="202">
<div class="sourceCode cell-code" id="cb321"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb321-1"><a href="#cb321-1" aria-hidden="true" tabindex="-1"></a>combine_result10[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="202">
<pre><code>'The species were found in water and in finer sediment.'</code></pre>
</div>
</div>
<div id="a9820e86" class="cell" data-execution_count="203">
<div class="sourceCode cell-code" id="cb323"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb323-1"><a href="#cb323-1" aria-hidden="true" tabindex="-1"></a>combine_result11 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query11})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="50dd2693" class="cell" data-execution_count="204">
<div class="sourceCode cell-code" id="cb324"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb324-1"><a href="#cb324-1" aria-hidden="true" tabindex="-1"></a>combine_result11[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="204">
<pre><code>'No, the paper does not mention a year, date, or time that species were collected or observed.'</code></pre>
</div>
</div>
<div id="c56aa6d5" class="cell" data-execution_count="205">
<div class="sourceCode cell-code" id="cb326"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb326-1"><a href="#cb326-1" aria-hidden="true" tabindex="-1"></a>combine_result12 <span class="op">=</span> qa_stuff_combine({<span class="st">"query"</span>: query12})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f0b57085" class="cell" data-execution_count="206">
<div class="sourceCode cell-code" id="cb327"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb327-1"><a href="#cb327-1" aria-hidden="true" tabindex="-1"></a>combine_result12[<span class="st">"result"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="206">
<pre><code>'Yes, there are figures in the paper. Figure 1 shows the relationship between carapace width and propal height in different species and genders of Hemigrapsus crabs. Figure 2 shows the relationship between carapace width and propal width in the same species and genders. There are also tables mentioned in the text, such as Table 1a and Table 1b, which provide descriptive statistics for the figures.'</code></pre>
</div>
</div>
</section>
<section id="conversationalretrievalqa" class="level1">
<h1>ConversationalRetrievalQA</h1>
<p>The ConversationalRetrievalQA chain builds on RetrievalQAChain to provide a chat history component.</p>
<p>It first combines the chat history (either explicitly passed in or retrieved from the provided memory) and the question into a standalone question, then looks up relevant documents from the retriever, and finally passes those documents and the question to a question answering chain to return a response.</p>
<div id="10f221cc" class="cell" data-execution_count="207">
<div class="sourceCode cell-code" id="cb329"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb329-1"><a href="#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build prompt</span></span>
<span id="cb329-2"><a href="#cb329-2" aria-hidden="true" tabindex="-1"></a>template <span class="op">=</span> <span class="st">"""Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. </span></span>
<span id="cb329-3"><a href="#cb329-3" aria-hidden="true" tabindex="-1"></a><span class="st">Avoid pulling context from the literature cited section starting on page 10</span></span>
<span id="cb329-4"><a href="#cb329-4" aria-hidden="true" tabindex="-1"></a><span class="sc">{context}</span></span>
<span id="cb329-5"><a href="#cb329-5" aria-hidden="true" tabindex="-1"></a><span class="st">Question: </span><span class="sc">{question}</span></span>
<span id="cb329-6"><a href="#cb329-6" aria-hidden="true" tabindex="-1"></a><span class="st">Helpful Answer:"""</span></span>
<span id="cb329-7"><a href="#cb329-7" aria-hidden="true" tabindex="-1"></a>QA_CHAIN_PROMPT <span class="op">=</span> PromptTemplate.from_template(template)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5690d936" class="cell" data-execution_count="208">
<div class="sourceCode cell-code" id="cb330"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb330-1"><a href="#cb330-1" aria-hidden="true" tabindex="-1"></a>memory <span class="op">=</span> ConversationBufferMemory(memory_key<span class="op">=</span><span class="st">"chat_history"</span>, input_key <span class="op">=</span> <span class="st">"question"</span>, output_key <span class="op">=</span> <span class="st">"answer"</span>, return_messages<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="54f080bd" class="cell" data-execution_count="209">
<div class="sourceCode cell-code" id="cb331"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb331-1"><a href="#cb331-1" aria-hidden="true" tabindex="-1"></a>qa_conversational <span class="op">=</span> ConversationalRetrievalChain.from_llm(ChatOpenAI(temperature<span class="op">=</span><span class="dv">0</span>),</span>
<span id="cb331-2"><a href="#cb331-2" aria-hidden="true" tabindex="-1"></a>                                                          vs2.as_retriever(),</span>
<span id="cb331-3"><a href="#cb331-3" aria-hidden="true" tabindex="-1"></a>                                                          verbose <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb331-4"><a href="#cb331-4" aria-hidden="true" tabindex="-1"></a>                                                          memory<span class="op">=</span>memory,</span>
<span id="cb331-5"><a href="#cb331-5" aria-hidden="true" tabindex="-1"></a>                                                          combine_docs_chain_kwargs<span class="op">=</span>{<span class="st">"prompt"</span>: QA_CHAIN_PROMPT})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ba0e6206" class="cell" data-execution_count="210">
<div class="sourceCode cell-code" id="cb332"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb332-1"><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a>conversational_result <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534

charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus
Question: what is this paper about?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="4393e211" class="cell" data-execution_count="211">
<div class="sourceCode cell-code" id="cb334"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb334-1"><a href="#cb334-1" aria-hidden="true" tabindex="-1"></a>conversational_result[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="211">
<pre><code>'The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.'</code></pre>
</div>
</div>
<div id="154b0790" class="cell" data-execution_count="212">
<div class="sourceCode cell-code" id="cb336"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb336-1"><a href="#cb336-1" aria-hidden="true" tabindex="-1"></a>conversational_result[<span class="st">"chat_history"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="212">
<pre><code>[HumanMessage(content='what is this paper about?', additional_kwargs={}, example=False),
 AIMessage(content='The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.', additional_kwargs={}, example=False)]</code></pre>
</div>
</div>
<div id="23784350" class="cell" data-execution_count="213">
<div class="sourceCode cell-code" id="cb338"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb338-1"><a href="#cb338-1" aria-hidden="true" tabindex="-1"></a>query1a <span class="op">=</span> <span class="st">"Did the paper mention which species of crab had the highest carapace width and propus measures?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2382b5d4" class="cell" data-scrolled="true" data-execution_count="214">
<div class="sourceCode cell-code" id="cb339"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb339-1"><a href="#cb339-1" aria-hidden="true" tabindex="-1"></a>conversational_result1a <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query1a})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Follow Up Input: Did the paper mention which species of crab had the highest carapace width and propus measures?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male

charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male

charifson 10 due to logistical issues surrounding the experimental design and little replication. future studies should include more crabs, the exclusion of non - feeding crabs, and trial periods with longer time intervals. additionally, any subsequent study should utilize multivariate and geometric morphometric methods to quantify claw shape instead of using ratios, as two similar ratios may have different shape. acknowledgements : i would like to thank dianna padilla, michael labarbera, and kevin turner for advice relating to the experimental design of this study. i would also like to thank the director and staff of friday harbor laboratories for use of facilities and permission to collect organisms. friday harbor laboratories, the libbie hyman scholarship, society for integrative and comparative biology, and the stony brook department of ecology and evolution provided financial support and have my gratitude.

boulding 1998 ). a significant difference in propus size between the two species would suggest that further testing of character displacement may be warranted. a disparity in propus size to body size between male and female crabs might result in different feeding rates and shell breaking capabilities. i devised a test of preference by varying snail shell strength within the same size class. the snail species li. scutulata and lacuna vincta ( montagu 1803 ) are both in the family
Question: Which species of crab had the highest carapace width and propus measures, according to the paper?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="c2a7dd75" class="cell" data-execution_count="215">
<div class="sourceCode cell-code" id="cb341"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb341-1"><a href="#cb341-1" aria-hidden="true" tabindex="-1"></a>conversational_result1a[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="215">
<pre><code>'The paper does not provide information on which species of crab had the highest carapace width and propus measures.'</code></pre>
</div>
</div>
<div id="ac20913e" class="cell" data-execution_count="216">
<div class="sourceCode cell-code" id="cb343"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a>conversational_result2 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query2})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Follow Up Input: Write a one sentence summary of the purpose of the paper
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534

charifson 3 roughly equal abundances of the two crab species ( personal observation ). the size of the chela may differ, which could allow the crabs to differentiate in food resource utilization. both species are omnivores that eat algae and small invertebrates, including snails ( behrens yamada and boulding 1996 ). the two shore crab species are known to eat littorina sitkana ( philippi 1846 ) and littorina scutulata ( gould 1849 ), which also occur in the rocky intertidal zone ( behrens yamada and boulding 1996 ). li. scutulata moves upshore in response to the presence of h. nudus and crushed conspecifics, where h. nudus density is lower ( keppel and scrosati 2004 ). this suggests that h. nudus represents an ecologically significant predation threat to littorines. the thick shelled littorines are difficult prey for both h. nudus and h. oregonensis as neither crab species is a molluscivore specialists ; they typically scrape or pick algae and softer invertebrates off rocks using their chelae ( behrens yamada and boulding 1996 ). behrens yamada and boulding ( 1998 ) found that large h. nudus were capable of consuming li. sitkana that were less than 8 mm in length, but had only a 37 % success rate of consuming snails with lengths between 5. 5 - 7 mm. i sought to investigate differences in propus size between between males and females of these two crab species. the size of the propus of the chela is positively correlated with the amount of force that can be produced due to greater musculature ( behrens yamada and boulding 1998 ). a significant difference in propus size between the two species would suggest that

charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.
Question: What is the purpose of the paper?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="163b67d1" class="cell" data-execution_count="217">
<div class="sourceCode cell-code" id="cb345"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a>conversational_result2[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="217">
<pre><code>'The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.'</code></pre>
</div>
</div>
<div id="9b1622d6" class="cell" data-execution_count="218">
<div class="sourceCode cell-code" id="cb347"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb347-1"><a href="#cb347-1" aria-hidden="true" tabindex="-1"></a>conversational_result3 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query3})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Follow Up Input: And who wrote the paper?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus

charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.
Question: Who wrote the paper?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="e54df3a0" class="cell" data-execution_count="219">
<div class="sourceCode cell-code" id="cb349"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb349-1"><a href="#cb349-1" aria-hidden="true" tabindex="-1"></a>conversational_result3[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="219">
<pre><code>'The author of the paper is F. J. Stuart.'</code></pre>
</div>
</div>
<div id="57639f23" class="cell" data-execution_count="222">
<div class="sourceCode cell-code" id="cb351"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb351-1"><a href="#cb351-1" aria-hidden="true" tabindex="-1"></a>conversational_result4 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query4})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Human: And who wrote the paper?
Assistant: The author of the paper is F. J. Stuart.
Follow Up Input: Summarize the paper concisely with reference to materials and methods.
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.
Question: Can you summarize the paper concisely with reference to materials and methods?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="09de9aca" class="cell" data-execution_count="223">
<div class="sourceCode cell-code" id="cb353"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb353-1"><a href="#cb353-1" aria-hidden="true" tabindex="-1"></a>conversational_result4[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="223">
<pre><code>'The paper analyzed the differences in carapace width and propus measures using a two-way ANOVA. The relationships between carapace width and propal height/width were examined using SMA regression. The paper also included descriptive statistics and a line of best fit for each species.'</code></pre>
</div>
</div>
<div id="3830e11c" class="cell" data-execution_count="224">
<div class="sourceCode cell-code" id="cb355"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb355-1"><a href="#cb355-1" aria-hidden="true" tabindex="-1"></a>conversational_result5 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query5})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Human: And who wrote the paper?
Assistant: The author of the paper is F. J. Stuart.
Human: Summarize the paper concisely with reference to materials and methods.
Assistant: The paper analyzed the differences in carapace width and propus measures using a two-way ANOVA. The relationships between carapace width and propal height/width were examined using SMA regression. The paper also included descriptive statistics and a line of best fit for each species.
Follow Up Input: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534

charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male

charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male
Question: Does the paper include any observations?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="ae79e473" class="cell" data-execution_count="225">
<div class="sourceCode cell-code" id="cb357"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb357-1"><a href="#cb357-1" aria-hidden="true" tabindex="-1"></a>conversational_result5[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="225">
<pre><code>'No, the paper does not include any observations.'</code></pre>
</div>
</div>
<div id="e839774c" class="cell" data-execution_count="226">
<div class="sourceCode cell-code" id="cb359"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb359-1"><a href="#cb359-1" aria-hidden="true" tabindex="-1"></a>conversational_result6 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query6})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Human: And who wrote the paper?
Assistant: The author of the paper is F. J. Stuart.
Human: Summarize the paper concisely with reference to materials and methods.
Assistant: The paper analyzed the differences in carapace width and propus measures using a two-way ANOVA. The relationships between carapace width and propal height/width were examined using SMA regression. The paper also included descriptive statistics and a line of best fit for each species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
Assistant: No, the paper does not include any observations.
Follow Up Input: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

charifson 10 due to logistical issues surrounding the experimental design and little replication. future studies should include more crabs, the exclusion of non - feeding crabs, and trial periods with longer time intervals. additionally, any subsequent study should utilize multivariate and geometric morphometric methods to quantify claw shape instead of using ratios, as two similar ratios may have different shape. acknowledgements : i would like to thank dianna padilla, michael labarbera, and kevin turner for advice relating to the experimental design of this study. i would also like to thank the director and staff of friday harbor laboratories for use of facilities and permission to collect organisms. friday harbor laboratories, the libbie hyman scholarship, society for integrative and comparative biology, and the stony brook department of ecology and evolution provided financial support and have my gratitude.
Question: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="dd62a7ab" class="cell" data-execution_count="227">
<div class="sourceCode cell-code" id="cb361"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb361-1"><a href="#cb361-1" aria-hidden="true" tabindex="-1"></a>conversational_result6[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="227">
<pre><code>'This paper contains experimental research conducted in the natural environment with organisms collected in nature.'</code></pre>
</div>
</div>
<div id="36e63bf7" class="cell" data-execution_count="228">
<div class="sourceCode cell-code" id="cb363"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb363-1"><a href="#cb363-1" aria-hidden="true" tabindex="-1"></a>conversational_result7 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query7})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Human: And who wrote the paper?
Assistant: The author of the paper is F. J. Stuart.
Human: Summarize the paper concisely with reference to materials and methods.
Assistant: The paper analyzed the differences in carapace width and propus measures using a two-way ANOVA. The relationships between carapace width and propal height/width were examined using SMA regression. The paper also included descriptive statistics and a line of best fit for each species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
Assistant: No, the paper does not include any observations.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
Assistant: This paper contains experimental research conducted in the natural environment with organisms collected in nature.
Follow Up Input: What are the scientific names of the species mentioned in this paper?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male
Question: What are the scientific names of the species mentioned in this paper?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="0b8af442" class="cell" data-execution_count="229">
<div class="sourceCode cell-code" id="cb365"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb365-1"><a href="#cb365-1" aria-hidden="true" tabindex="-1"></a>conversational_result7[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="229">
<pre><code>'The scientific names of the species mentioned in this paper are Hemigrapsus nudus and Hemigrapsus oregonensis.'</code></pre>
</div>
</div>
<div id="3ce9292f" class="cell" data-execution_count="230">
<div class="sourceCode cell-code" id="cb367"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb367-1"><a href="#cb367-1" aria-hidden="true" tabindex="-1"></a>conversational_result8 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query8})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Human: And who wrote the paper?
Assistant: The author of the paper is F. J. Stuart.
Human: Summarize the paper concisely with reference to materials and methods.
Assistant: The paper analyzed the differences in carapace width and propus measures using a two-way ANOVA. The relationships between carapace width and propal height/width were examined using SMA regression. The paper also included descriptive statistics and a line of best fit for each species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
Assistant: No, the paper does not include any observations.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
Assistant: This paper contains experimental research conducted in the natural environment with organisms collected in nature.
Human: What are the scientific names of the species mentioned in this paper?
Assistant: The scientific names of the species mentioned in this paper are Hemigrapsus nudus and Hemigrapsus oregonensis.
Follow Up Input: Does the paper mention where the species were observed or collected, and if so, what locations are given?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be

charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.
Question: Where does the paper mention where the species were observed or collected, and if so, what locations are given?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="0a088728" class="cell" data-execution_count="231">
<div class="sourceCode cell-code" id="cb369"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb369-1"><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a>conversational_result8[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="231">
<pre><code>'The paper does not mention where the species were observed or collected.'</code></pre>
</div>
</div>
<div id="ea83a3c6" class="cell" data-execution_count="232">
<div class="sourceCode cell-code" id="cb371"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a>conversational_result9 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query9})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Human: And who wrote the paper?
Assistant: The author of the paper is F. J. Stuart.
Human: Summarize the paper concisely with reference to materials and methods.
Assistant: The paper analyzed the differences in carapace width and propus measures using a two-way ANOVA. The relationships between carapace width and propal height/width were examined using SMA regression. The paper also included descriptive statistics and a line of best fit for each species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
Assistant: No, the paper does not include any observations.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
Assistant: This paper contains experimental research conducted in the natural environment with organisms collected in nature.
Human: What are the scientific names of the species mentioned in this paper?
Assistant: The scientific names of the species mentioned in this paper are Hemigrapsus nudus and Hemigrapsus oregonensis.
Human: Does the paper mention where the species were observed or collected, and if so, what locations are given?
Assistant: The paper does not mention where the species were observed or collected.
Follow Up Input: Are any coordinate locations given in latitude / longitude, and if so, what are they?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
to right sides of the propus. all claw measurements were made on the left cheliped.

charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.
Question: Does the paper provide any coordinate locations in latitude/longitude? If so, what are they?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="1f98ae35" class="cell" data-execution_count="233">
<div class="sourceCode cell-code" id="cb373"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb373-1"><a href="#cb373-1" aria-hidden="true" tabindex="-1"></a>conversational_result9[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="233">
<pre><code>'The paper does not provide any coordinate locations in latitude/longitude.'</code></pre>
</div>
</div>
<div id="e6c15058" class="cell" data-execution_count="234">
<div class="sourceCode cell-code" id="cb375"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb375-1"><a href="#cb375-1" aria-hidden="true" tabindex="-1"></a>conversational_result10 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query10})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Human: And who wrote the paper?
Assistant: The author of the paper is F. J. Stuart.
Human: Summarize the paper concisely with reference to materials and methods.
Assistant: The paper analyzed the differences in carapace width and propus measures using a two-way ANOVA. The relationships between carapace width and propal height/width were examined using SMA regression. The paper also included descriptive statistics and a line of best fit for each species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
Assistant: No, the paper does not include any observations.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
Assistant: This paper contains experimental research conducted in the natural environment with organisms collected in nature.
Human: What are the scientific names of the species mentioned in this paper?
Assistant: The scientific names of the species mentioned in this paper are Hemigrapsus nudus and Hemigrapsus oregonensis.
Human: Does the paper mention where the species were observed or collected, and if so, what locations are given?
Assistant: The paper does not mention where the species were observed or collected.
Human: Are any coordinate locations given in latitude / longitude, and if so, what are they?
Assistant: The paper does not provide any coordinate locations in latitude/longitude.
Follow Up Input: In what habitat were the species found?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be

charifson 1 snail predation by hemigrapsus nudus and hemigrapsus oregonensis : sex and species differences in chela size. david charifson1, 2 marine invertebrate zoology summer 2014 1 friday harbor laboratories, university of washington, friday harbor, wa 98250 2 department of ecology and evolution, stony brook university, stony brook, ny 11794 - 5245 contact information : david charifson department of ecology and evolution stony brook university 650 life sciences building stony brook, ny 11794 - 5245 david. charifson @ stonybrook. edu keywords : hemigrapsus nudus, hemigrapsus orogenensis, littorina scutulata, lacuna vincta, predation, sexual dimorphism, character displacement
Question: In what habitat were the species mentioned in the paper found?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="2c5b81fb" class="cell" data-execution_count="235">
<div class="sourceCode cell-code" id="cb377"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb377-1"><a href="#cb377-1" aria-hidden="true" tabindex="-1"></a>conversational_result10[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="235">
<pre><code>'The species mentioned in the paper were found in the intertidal habitat.'</code></pre>
</div>
</div>
<div id="71d2ac19" class="cell" data-execution_count="236">
<div class="sourceCode cell-code" id="cb379"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb379-1"><a href="#cb379-1" aria-hidden="true" tabindex="-1"></a>conversational_result11 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query11})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Human: And who wrote the paper?
Assistant: The author of the paper is F. J. Stuart.
Human: Summarize the paper concisely with reference to materials and methods.
Assistant: The paper analyzed the differences in carapace width and propus measures using a two-way ANOVA. The relationships between carapace width and propal height/width were examined using SMA regression. The paper also included descriptive statistics and a line of best fit for each species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
Assistant: No, the paper does not include any observations.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
Assistant: This paper contains experimental research conducted in the natural environment with organisms collected in nature.
Human: What are the scientific names of the species mentioned in this paper?
Assistant: The scientific names of the species mentioned in this paper are Hemigrapsus nudus and Hemigrapsus oregonensis.
Human: Does the paper mention where the species were observed or collected, and if so, what locations are given?
Assistant: The paper does not mention where the species were observed or collected.
Human: Are any coordinate locations given in latitude / longitude, and if so, what are they?
Assistant: The paper does not provide any coordinate locations in latitude/longitude.
Human: In what habitat were the species found?
Assistant: The species mentioned in the paper were found in the intertidal habitat.
Follow Up Input: Does the paper mention a year, date and/or time that species were collected or observed, and if so, what was mentioned?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have

##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.

charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male

vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be
Question: Does the paper mention a year, date, and/or time that the species were collected or observed, and if so, what was mentioned?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="dd936361" class="cell" data-execution_count="237">
<div class="sourceCode cell-code" id="cb381"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb381-1"><a href="#cb381-1" aria-hidden="true" tabindex="-1"></a>conversational_result11[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="237">
<pre><code>'No, the paper does not mention a year, date, or time that the species were collected or observed.'</code></pre>
</div>
</div>
<div id="07db7ccc" class="cell" data-execution_count="238">
<div class="sourceCode cell-code" id="cb383"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb383-1"><a href="#cb383-1" aria-hidden="true" tabindex="-1"></a>conversational_result12 <span class="op">=</span> qa_conversational({<span class="st">"question"</span>: query12})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

&gt; Entering new LLMChain chain...
Prompt after formatting:
Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question, in its original language.

Chat History:

Human: what is this paper about?
Assistant: The paper is about the analysis of carapace width and propus measures in two species of crabs, H. nudus and H. oregonensis, and their consumption rates of snails.
Human: Did the paper mention which species of crab had the highest carapace width and propus measures?
Assistant: The paper does not provide information on which species of crab had the highest carapace width and propus measures.
Human: Write a one sentence summary of the purpose of the paper
Assistant: The purpose of the paper is to investigate the differences in propus size between males and females of the two crab species, H. nudus and H. oregonensis.
Human: And who wrote the paper?
Assistant: The author of the paper is F. J. Stuart.
Human: Summarize the paper concisely with reference to materials and methods.
Assistant: The paper analyzed the differences in carapace width and propus measures using a two-way ANOVA. The relationships between carapace width and propal height/width were examined using SMA regression. The paper also included descriptive statistics and a line of best fit for each species.
Human: Terms that may be used to identify an observation include “in the field”, “this study”, “observed”, “taken”, “collected”, “sampled”, “collection”, “seen”, “harvested”, “found”, etc. Does the paper include one or more observations?
Assistant: No, the paper does not include any observations.
Human: Does this paper contain observational or experimental research conducted in the natural environment or with organisms collected in nature?
Assistant: This paper contains experimental research conducted in the natural environment with organisms collected in nature.
Human: What are the scientific names of the species mentioned in this paper?
Assistant: The scientific names of the species mentioned in this paper are Hemigrapsus nudus and Hemigrapsus oregonensis.
Human: Does the paper mention where the species were observed or collected, and if so, what locations are given?
Assistant: The paper does not mention where the species were observed or collected.
Human: Are any coordinate locations given in latitude / longitude, and if so, what are they?
Assistant: The paper does not provide any coordinate locations in latitude/longitude.
Human: In what habitat were the species found?
Assistant: The species mentioned in the paper were found in the intertidal habitat.
Human: Does the paper mention a year, date and/or time that species were collected or observed, and if so, what was mentioned?
Assistant: No, the paper does not mention a year, date, or time that the species were collected or observed.
Follow Up Input: Are there any maps, figures, tables or diagrams in the paper?
Standalone question:

&gt; Finished chain.


&gt; Entering new StuffDocumentsChain chain...


&gt; Entering new LLMChain chain...
Prompt after formatting:
Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer. Use three sentences maximum. Keep the answer as concise as possible. 
Avoid pulling context from the literature cited section starting on page 10
charifson 16 figure 2 : relationship of carapace width and propal width in hemigrapsus. line of best fit from sma regression. see table 1b for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

charifson 15 figure 1 : relationship of carapace width and propal height in hemigrapsus. line of best fit from sma regression. see table 1a for descriptive statistics. a ) female h. nudus. b ) male h. nudus. c ) female h. oregonensis. d ) male h. oregonensis.

charifson 17 figure 3 : differences in propal height : carapace width ratio between sex and species. the sex factor was statistically significant ( f = 125. 6. p &lt; 0. 001 ), while the species factor was insignificant ( f &gt; 0. 01, p = 0. 983 ). there was a significant interaction ( f = 4. 39, p = 0. 042 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 0. 3 0. 35 h. nudus h. oregonensis propal height : carapace width crab species female male

charifson 18 figure 4 : differences in propal width : carapace width ratio between sex and species. the sex factor was statistically significant ( f1, 45 = 103. 8. p &lt; 0. 001 ), while the species factor was insignificant ( f1, 45 = 0. 09, p = 0. 764 ). there was a significant interaction ( f1, 45 = 7. 19, p = 0. 01 ). error bars represent standard error of the mean. 0 0. 05 0. 1 0. 15 0. 2 0. 25 h. nudus h. oregonensis propal widtht : carapace width crab species female male
Question: Does the paper contain any maps, figures, tables, or diagrams?
Helpful Answer:

&gt; Finished chain.

&gt; Finished chain.</code></pre>
</div>
</div>
<div id="fea6099a" class="cell" data-execution_count="239">
<div class="sourceCode cell-code" id="cb385"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb385-1"><a href="#cb385-1" aria-hidden="true" tabindex="-1"></a>conversational_result12[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="239">
<pre><code>'Yes, the paper contains figures (Figure 2, Figure 1, Figure 3, Figure 4) and tables (Table 1b, Table 1a).'</code></pre>
</div>
</div>
<section id="pass-in-chat-history" class="level2">
<h2 class="anchored" data-anchor-id="pass-in-chat-history">Pass in Chat History</h2>
<div id="9bd0a1ba" class="cell" data-execution_count="261">
<div class="sourceCode cell-code" id="cb387"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb387-1"><a href="#cb387-1" aria-hidden="true" tabindex="-1"></a>qa_conversational2 <span class="op">=</span> ConversationalRetrievalChain.from_llm(ChatOpenAI(temperature<span class="op">=</span><span class="dv">0</span>), vs2.as_retriever())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cdb4ba0d" class="cell" data-execution_count="262">
<div class="sourceCode cell-code" id="cb388"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb388-1"><a href="#cb388-1" aria-hidden="true" tabindex="-1"></a>chat_history <span class="op">=</span> []</span>
<span id="cb388-2"><a href="#cb388-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> qa_conversational2({<span class="st">"question"</span>: query, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fe272f01" class="cell" data-scrolled="false" data-execution_count="263">
<div class="sourceCode cell-code" id="cb389"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb389-1"><a href="#cb389-1" aria-hidden="true" tabindex="-1"></a>result[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="263">
<pre><code>'Based on the provided context, the paper appears to be about various analyses and measurements related to carapace width and propus measures in different species of crabs (H. nudus and H. oregonensis). It also includes information on consumption rates of snails by individual H. nudus crabs.'</code></pre>
</div>
</div>
<div id="a697452d" class="cell" data-execution_count="264">
<div class="sourceCode cell-code" id="cb391"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb391-1"><a href="#cb391-1" aria-hidden="true" tabindex="-1"></a>result[<span class="st">"chat_history"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="264">
<pre><code>[]</code></pre>
</div>
</div>
<div id="cc88a438" class="cell" data-execution_count="265">
<div class="sourceCode cell-code" id="cb393"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb393-1"><a href="#cb393-1" aria-hidden="true" tabindex="-1"></a>chat_history <span class="op">=</span> [(query, result[<span class="st">"answer"</span>])]</span>
<span id="cb393-2"><a href="#cb393-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb393-3"><a href="#cb393-3" aria-hidden="true" tabindex="-1"></a>result_conversational2 <span class="op">=</span> qa_conversational2({<span class="st">"question"</span>: query, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5ef10dd5" class="cell" data-scrolled="true" data-execution_count="266">
<div class="sourceCode cell-code" id="cb394"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb394-1"><a href="#cb394-1" aria-hidden="true" tabindex="-1"></a>result_conversational2[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="266">
<pre><code>'The main topic of this paper is the relationship between carapace width and propus measures in H. nudus and H. oregonensis crabs.'</code></pre>
</div>
</div>
<div id="6a1b85bc" class="cell" data-scrolled="true" data-execution_count="267">
<div class="sourceCode cell-code" id="cb396"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb396-1"><a href="#cb396-1" aria-hidden="true" tabindex="-1"></a>result_conversational2[<span class="st">"chat_history"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="267">
<pre><code>[('what is this paper about?',
  'Based on the provided context, the paper appears to be about various analyses and measurements related to carapace width and propus measures in different species of crabs (H. nudus and H. oregonensis). It also includes information on consumption rates of snails by individual H. nudus crabs.')]</code></pre>
</div>
</div>
</section>
<section id="return-source-documents" class="level2">
<h2 class="anchored" data-anchor-id="return-source-documents">Return Source Documents</h2>
<div id="80b50fd0" class="cell" data-execution_count="273">
<div class="sourceCode cell-code" id="cb398"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb398-1"><a href="#cb398-1" aria-hidden="true" tabindex="-1"></a>qa_conversational3 <span class="op">=</span> ConversationalRetrievalChain.from_llm(ChatOpenAI(temperature<span class="op">=</span><span class="dv">0</span>), vs2.as_retriever(), return_source_documents<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb398-2"><a href="#cb398-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb398-3"><a href="#cb398-3" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="60187b99" class="cell" data-execution_count="274">
<div class="sourceCode cell-code" id="cb399"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb399-1"><a href="#cb399-1" aria-hidden="true" tabindex="-1"></a>chat_history <span class="op">=</span> []</span>
<span id="cb399-2"><a href="#cb399-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="022440ac" class="cell" data-scrolled="false" data-execution_count="275">
<div class="sourceCode cell-code" id="cb400"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb400-1"><a href="#cb400-1" aria-hidden="true" tabindex="-1"></a>result[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="275">
<pre><code>'Based on the provided context, the paper appears to be about various analyses and measurements related to carapace width and propus measures in different species of crabs (H. nudus and H. oregonensis). It also includes information on consumption rates of snails by individual H. nudus crabs.'</code></pre>
</div>
</div>
<div id="9e96d46c" class="cell" data-execution_count="276">
<div class="sourceCode cell-code" id="cb402"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb402-1"><a href="#cb402-1" aria-hidden="true" tabindex="-1"></a>result[<span class="st">"chat_history"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="276">
<pre><code>[]</code></pre>
</div>
</div>
<div id="9f092fd5" class="cell" data-scrolled="true" data-execution_count="277">
<div class="sourceCode cell-code" id="cb404"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb404-1"><a href="#cb404-1" aria-hidden="true" tabindex="-1"></a>result[<span class="st">'source_documents'</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="277">
<pre><code>Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>
<div id="1977bd96" class="cell" data-execution_count="278">
<div class="sourceCode cell-code" id="cb406"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb406-1"><a href="#cb406-1" aria-hidden="true" tabindex="-1"></a>result2 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query2, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="58a4a61f" class="cell" data-execution_count="279">
<div class="sourceCode cell-code" id="cb407"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb407-1"><a href="#cb407-1" aria-hidden="true" tabindex="-1"></a>result2[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="279">
<pre><code>'The purpose of the paper is to analyze the relationship between carapace width and propal height/width in different species and sexes of crabs.'</code></pre>
</div>
</div>
<div id="f7f8066a" class="cell" data-execution_count="302">
<div class="sourceCode cell-code" id="cb409"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb409-1"><a href="#cb409-1" aria-hidden="true" tabindex="-1"></a>result2[<span class="st">"chat_history"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="302">
<pre><code>[]</code></pre>
</div>
</div>
<div id="6fdd3fbe" class="cell" data-execution_count="303">
<div class="sourceCode cell-code" id="cb411"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb411-1"><a href="#cb411-1" aria-hidden="true" tabindex="-1"></a>result2[<span class="st">"source_documents"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="303">
<pre><code>Document(page_content='charifson 13 table 1 : sma regressions of carapace width and propus measures. a ) the relationship between carapace width and propal height. x is carapace width and y is propal height. b ) the relationship between carapace width and propal height. x is carapace width and y is propal width. sma regression a n carapace width vs propal height r2 female h. nudus 13 y = 0. 273 * x - 0. 678 0. 976 male h. nudus 13 y = 0. 311 * x - 1. 385 0. 868 female h. oregonensis 9 y = 0. 351 * x - 0. 833 0. 894 male h. oregonensis 14 y = 0. 39 * x - 1. 149 0. 693 sma regression b n carapace width vs propal width r2 female h. nudus 13 y = 0. 157 * x - 0. 386 0. 927 male h. nudus 13 y = 0. 209 * x - 1. 288 0. 859 female h. oregonensis 9 y = 0. 175 * x + 0. 037 0. 724 male h. oregonensis 14 y = 0. 244 * x - 0. 688 0. 534', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 12, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>
<div id="92d023b1" class="cell" data-execution_count="304">
<div class="sourceCode cell-code" id="cb413"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb413-1"><a href="#cb413-1" aria-hidden="true" tabindex="-1"></a>result3 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query3, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1ace29da" class="cell" data-execution_count="305">
<div class="sourceCode cell-code" id="cb414"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb414-1"><a href="#cb414-1" aria-hidden="true" tabindex="-1"></a>result3[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="305">
<pre><code>'The author of the paper is not mentioned in the given context.'</code></pre>
</div>
</div>
<div id="ffd58114" class="cell" data-execution_count="306">
<div class="sourceCode cell-code" id="cb416"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb416-1"><a href="#cb416-1" aria-hidden="true" tabindex="-1"></a>result4 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query4, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="3612ff50" class="cell" data-execution_count="307">
<div class="sourceCode cell-code" id="cb417"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb417-1"><a href="#cb417-1" aria-hidden="true" tabindex="-1"></a>result4[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="307">
<pre><code>'The paper analyzed the relationship between carapace width and propal height and width in different species of Hemigrapsus crabs. The authors used a two-way ANOVA to compare the differences in carapace width to propal height and width. They performed SMA regressions to determine the relationship between carapace width and propal height and width in female and male H. nudus and H. oregonensis crabs. The results were presented in tables and figures, showing the line of best fit and descriptive statistics for each species and gender.'</code></pre>
</div>
</div>
<div id="f15f9725" class="cell" data-execution_count="308">
<div class="sourceCode cell-code" id="cb419"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb419-1"><a href="#cb419-1" aria-hidden="true" tabindex="-1"></a>result4[<span class="st">"source_documents"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="308">
<pre><code>Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>
<div id="01f7bfe3" class="cell" data-execution_count="309">
<div class="sourceCode cell-code" id="cb421"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb421-1"><a href="#cb421-1" aria-hidden="true" tabindex="-1"></a>result5 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query5, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f3e9900a" class="cell" data-execution_count="310">
<div class="sourceCode cell-code" id="cb422"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb422-1"><a href="#cb422-1" aria-hidden="true" tabindex="-1"></a>result5[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="310">
<pre><code>'Based on the provided context, it is not clear whether the paper includes one or more specific observations.'</code></pre>
</div>
</div>
<div id="1de39402" class="cell" data-scrolled="true" data-execution_count="288">
<div class="sourceCode cell-code" id="cb424"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb424-1"><a href="#cb424-1" aria-hidden="true" tabindex="-1"></a>result5[<span class="st">"source_documents"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="288">
<pre><code>[Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='vincta in the field. it should be noted that h. nudus and la. vincta usually occupy different portions of the intertidal and may have little contact with each other, unlike the relationship between h. nudus and li. scutulata. there is some potential for overlap in the winter when la. vincta migrates up shore. although no differences in consumption rates between male and female h. nudus were found, this might be', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 8, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''}),
 Document(page_content='and rohlf 2011 ). differences in cw : ph and cw : pw were analyzed using a two - way anova', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 4, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})]</code></pre>
</div>
</div>
<div id="2945eed3" class="cell" data-execution_count="289">
<div class="sourceCode cell-code" id="cb426"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb426-1"><a href="#cb426-1" aria-hidden="true" tabindex="-1"></a>result6 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query6, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="08be4f6f" class="cell" data-execution_count="290">
<div class="sourceCode cell-code" id="cb427"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb427-1"><a href="#cb427-1" aria-hidden="true" tabindex="-1"></a>result6[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="290">
<pre><code>'Based on the given context, it appears that the research described in the paper is experimental research conducted in the natural environment with organisms collected in nature. The acknowledgements section mentions the permission to collect organisms and the use of facilities at Friday Harbor Laboratories.'</code></pre>
</div>
</div>
<div id="9d8ce63c" class="cell" data-execution_count="291">
<div class="sourceCode cell-code" id="cb429"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb429-1"><a href="#cb429-1" aria-hidden="true" tabindex="-1"></a>result6[<span class="st">"chat_history"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="291">
<pre><code>[]</code></pre>
</div>
</div>
<div id="9f581a3e" class="cell" data-execution_count="299">
<div class="sourceCode cell-code" id="cb431"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb431-1"><a href="#cb431-1" aria-hidden="true" tabindex="-1"></a>result6[<span class="st">"source_documents"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="299">
<pre><code>Document(page_content='charifson 19 figure 5 : consumption rates by individual h. nudus. mean consumption rates ( n = 8 trials ) of 3 female ( fe1 to fe3 ) and 3 male ( ma1 to ma3 ) h. nudus. crabs fe1, fe3, and ma3 did not consume snails. the individuals that eat snails did not differ in their consumption rates ( f2, 21 = 2. 52, p = 0. 104 ). error bars represent standard error of the mean. 0 0. 1 0. 2 0. 3 0. 4 0. 5 0. 6 0. 7 0. 8 0. 9 1 fe1 fe2 fe3 ma1 ma2 ma3 mean consumption rate ( snails consumed / hour ) individual h. nudus', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 18, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>
<div id="e6a887dd" class="cell" data-execution_count="292">
<div class="sourceCode cell-code" id="cb433"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb433-1"><a href="#cb433-1" aria-hidden="true" tabindex="-1"></a>result7 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query7, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fb3486ba" class="cell" data-execution_count="300">
<div class="sourceCode cell-code" id="cb434"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb434-1"><a href="#cb434-1" aria-hidden="true" tabindex="-1"></a>result7[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="300">
<pre><code>'The scientific names of the species mentioned in this paper are Hemigrapsus nudus and Hemigrapsus oregonensis.'</code></pre>
</div>
</div>
<div id="ceb226f0" class="cell" data-execution_count="311">
<div class="sourceCode cell-code" id="cb436"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb436-1"><a href="#cb436-1" aria-hidden="true" tabindex="-1"></a>result7[<span class="st">"source_documents"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="311">
<pre><code>Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>
<div id="56d3dfdb" class="cell" data-execution_count="293">
<div class="sourceCode cell-code" id="cb438"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb438-1"><a href="#cb438-1" aria-hidden="true" tabindex="-1"></a>result8 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query8, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1fbf2a62" class="cell" data-execution_count="312">
<div class="sourceCode cell-code" id="cb439"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb439-1"><a href="#cb439-1" aria-hidden="true" tabindex="-1"></a>result8[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="312">
<pre><code>'No, the paper does not mention specific locations where the species were observed or collected.'</code></pre>
</div>
</div>
<div id="67484ebf" class="cell" data-execution_count="313">
<div class="sourceCode cell-code" id="cb441"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb441-1"><a href="#cb441-1" aria-hidden="true" tabindex="-1"></a>result8[<span class="st">"source_documents"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="313">
<pre><code>Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>
<div id="ff9f9939" class="cell" data-execution_count="294">
<div class="sourceCode cell-code" id="cb443"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb443-1"><a href="#cb443-1" aria-hidden="true" tabindex="-1"></a>result9 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query9, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="dab0252a" class="cell" data-execution_count="314">
<div class="sourceCode cell-code" id="cb444"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb444-1"><a href="#cb444-1" aria-hidden="true" tabindex="-1"></a>result9[<span class="st">'answer'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="314">
<pre><code>'No, there are no coordinate locations given in latitude/longitude in the provided context.'</code></pre>
</div>
</div>
<div id="8d797a11" class="cell" data-execution_count="315">
<div class="sourceCode cell-code" id="cb446"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb446-1"><a href="#cb446-1" aria-hidden="true" tabindex="-1"></a>result9[<span class="st">"source_documents"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="315">
<pre><code>Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>
<div id="1cd4c6dd" class="cell" data-execution_count="295">
<div class="sourceCode cell-code" id="cb448"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb448-1"><a href="#cb448-1" aria-hidden="true" tabindex="-1"></a>result10 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query10, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="70384b00" class="cell" data-execution_count="316">
<div class="sourceCode cell-code" id="cb449"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb449-1"><a href="#cb449-1" aria-hidden="true" tabindex="-1"></a>result10[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="316">
<pre><code>'The species were found in water and in finer sediment.'</code></pre>
</div>
</div>
<div id="65a9a99e" class="cell" data-execution_count="317">
<div class="sourceCode cell-code" id="cb451"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb451-1"><a href="#cb451-1" aria-hidden="true" tabindex="-1"></a>result10[<span class="st">"source_documents"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="317">
<pre><code>Document(page_content='waterand in finer sediment than the more desiccation - tolerant h. nudus ( sliger 1982 ). there is still considerable habitat overlap between these two species ; the underside of a single rock may have', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 1, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>
<div id="d6ee2c2c" class="cell" data-execution_count="296">
<div class="sourceCode cell-code" id="cb453"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb453-1"><a href="#cb453-1" aria-hidden="true" tabindex="-1"></a>result11 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query11, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="abc2fad3" class="cell" data-execution_count="318">
<div class="sourceCode cell-code" id="cb454"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb454-1"><a href="#cb454-1" aria-hidden="true" tabindex="-1"></a>result11[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="318">
<pre><code>'No, the paper does not mention a year, date, or time that species were collected or observed.'</code></pre>
</div>
</div>
<div id="5a6c7eff" class="cell" data-execution_count="319">
<div class="sourceCode cell-code" id="cb456"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb456-1"><a href="#cb456-1" aria-hidden="true" tabindex="-1"></a>result11[<span class="st">"source_documents"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="319">
<pre><code>Document(page_content='##f, f. j. 2011. biometry. 4th ed. w. h. freeman, new york, new york, usa. stuart, y. e. and losos, j. b. 2013. ecological character displacement : glass half full or half empty? trends in ecology and evolution 28 : 402 - 408.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 10, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>
<div id="e3163375" class="cell" data-execution_count="297">
<div class="sourceCode cell-code" id="cb458"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb458-1"><a href="#cb458-1" aria-hidden="true" tabindex="-1"></a>result12 <span class="op">=</span> qa_conversational3({<span class="st">"question"</span>: query12, <span class="st">"chat_history"</span>: chat_history})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="4d054407" class="cell" data-execution_count="320">
<div class="sourceCode cell-code" id="cb459"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb459-1"><a href="#cb459-1" aria-hidden="true" tabindex="-1"></a>result12[<span class="st">"answer"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="320">
<pre><code>'Yes, there are figures in the paper. Figure 1 shows the relationship between carapace width and propal height in different species and genders of Hemigrapsus crabs. Figure 2 shows the relationship between carapace width and propal width in the same species and genders. There are also tables mentioned in the text, such as Table 1a and Table 1b, which provide descriptive statistics for the figures.'</code></pre>
</div>
</div>
<div id="fc469753" class="cell" data-execution_count="321">
<div class="sourceCode cell-code" id="cb461"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb461-1"><a href="#cb461-1" aria-hidden="true" tabindex="-1"></a>result12[<span class="st">"source_documents"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="321">
<pre><code>Document(page_content='to right sides of the propus. all claw measurements were made on the left cheliped.', metadata={'source': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'file_path': 'hms/fhl_2014_Charifson_34622 (1).pdf', 'page': 3, 'total_pages': 19, 'format': 'PDF 1.5', 'title': '', 'author': 'David', 'subject': '', 'keywords': '', 'creator': 'Microsoft® Office Word 2007', 'producer': 'Microsoft® Office Word 2007', 'creationDate': "D:20140723120649-04'00'", 'modDate': "D:20140723120649-04'00'", 'trapped': ''})</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/Miller-Library\.github\.io\/taxa-project\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../content/experiments.html" class="pagination-link" aria-label="Experiments">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Experiments</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../content/Option2final.html" class="pagination-link" aria-label="Option 2 Notebook">
        <span class="nav-page-text">Option 2 Notebook</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© CC-1.0</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.dev/Miller-Library/taxa_webV2/blob/main/content/Option1.ipynb" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/Miller-Library/taxa_webV2/blob/main/content/Option1.ipynb" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/Miller-Library/taxa_webV2/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>